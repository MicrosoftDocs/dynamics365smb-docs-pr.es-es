---
title: "Programar proyectos para que se ejecuten automáticamente | Documentos de Microsoft"
description: "Las tareas programadas son administradas por la cola de proyecto. Estos proyectos ejecutan informes y unidades de código. Puede configurar proyectos para que se ejecuten una vez o de manera periódica."
author: edupont04
ms.service: dynamics365-financials
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 
ms.date: 09/01/2017
ms.author: edupont
ms.translationtype: HT
ms.sourcegitcommit: 2c13559bb3dc44cdb61697f5135c5b931e34d2a8
ms.openlocfilehash: 6dc45cfcff07bfb36f363121298cd0f68b9ce7fe
ms.contentlocale: es-es
ms.lasthandoff: 09/22/2017

---
# <a name="use-job-queues-to-schedule-tasks"></a><span data-ttu-id="64808-105">Uso de colas de proyectos para programar tareas</span><span class="sxs-lookup"><span data-stu-id="64808-105">Use Job Queues to Schedule Tasks</span></span>
<span data-ttu-id="64808-106">Las colas de proyectos de [!INCLUDE[d365fin](includes/d365fin_md.md)] permiten a los usuarios programar y ejecutar informes y códigos de unidad específicos.</span><span class="sxs-lookup"><span data-stu-id="64808-106">Job queues in [!INCLUDE[d365fin](includes/d365fin_md.md)] enables users to schedule and run specific reports and codeunits.</span></span> <span data-ttu-id="64808-107">Puede configurar proyectos para que se ejecuten una vez o de manera periódica.</span><span class="sxs-lookup"><span data-stu-id="64808-107">You can set jobs to run one time, or on a recurring basis.</span></span> <span data-ttu-id="64808-108">Por ejemplo, puede ejecutar el informe de **Vendedor - Estadísticas ventas** de manera semanal, para realizar el seguimiento de ventas por vendedor cada semana, o bien ejecutar la unidad de código **Procesar cola de correo electrónico del servicio** diariamente, para asegurarse de que se envían de manera oportuna los mensajes de correo electrónico a los clientes relacionados con sus pedidos de venta.</span><span class="sxs-lookup"><span data-stu-id="64808-108">For example, you might want to run the **Salesperson - Sales Statistics** report weekly, to track sales by salesperson each week, or you might want to run the **Process Service E-mail Queue** codeunit daily, to make sure pending email messages to customers regarding their service orders are sent out in a timely manner.</span></span>  

## <a name="add-jobs-to-the-job-queue"></a><span data-ttu-id="64808-109">Añada los proyectos a la cola de proyectos</span><span class="sxs-lookup"><span data-stu-id="64808-109">Add Jobs to the Job Queue</span></span>
<span data-ttu-id="64808-110">La ventana **Entradas de cola de proyectos** enumera todos los proyectos existentes.</span><span class="sxs-lookup"><span data-stu-id="64808-110">The **Job Queue Entries** window lists all existing jobs.</span></span> <span data-ttu-id="64808-111">Si agrega una nueva entrada de cola de proyectos que desee programar, debe especificar información acerca del tipo de objeto que desea ejecutar, por ejemplo, informe o unidad de código y nombre y el identificador del objeto que desee ejecutar.</span><span class="sxs-lookup"><span data-stu-id="64808-111">If you add a new job queue entry that you want to schedule, you must specify information about the type of object you want to run, such as a report or codeunit, and the name and object ID of the object that you want to run.</span></span> <span data-ttu-id="64808-112">También puede agregar parámetros para especificar el comportamiento del movimiento de cola de proyectos.</span><span class="sxs-lookup"><span data-stu-id="64808-112">You can also add parameters to specify the behavior of the job queue entry.</span></span> <span data-ttu-id="64808-113">Por ejemplo, puede agregar un parámetro para enviar solo pedidos de venta registrados.</span><span class="sxs-lookup"><span data-stu-id="64808-113">For example, you can add a parameter to only send posted sales orders.</span></span> <span data-ttu-id="64808-114">Debe disponer de los permisos adecuados para ejecutar el informe o la unidad de código en particular; de lo contrario, se devolverá un error al ejecutarse la cola de proyectos.</span><span class="sxs-lookup"><span data-stu-id="64808-114">You must have permission to run the particular report or codeunit, or an error will be returned when the job queue is run.</span></span>  

<span data-ttu-id="64808-115">Opcionalmente, puede establecer un filtro en el campo **Filtro categoría de la cola de proyecto**.</span><span class="sxs-lookup"><span data-stu-id="64808-115">Optionally, you can set a filter in the **Job Queue Category Filter** field.</span></span> <span data-ttu-id="64808-116">Las categorías de la cola de proyecto se pueden usar para agrupar proyectos en la lista.</span><span class="sxs-lookup"><span data-stu-id="64808-116">Job queue categories can be used to group jobs in the list.</span></span>

[!INCLUDE[d365fin](includes/d365fin_md.md)]<span data-ttu-id="64808-117"> ejecutará automáticamente los proyectos según los calendarios especificados para cada entrada de cola de proyecto.</span><span class="sxs-lookup"><span data-stu-id="64808-117"> automatically runs the jobs according to the specified schedules for each job queue entry.</span></span> <span data-ttu-id="64808-118">También puede iniciar, detener y poner una entrada de cola de proyecto en espera manualmente.</span><span class="sxs-lookup"><span data-stu-id="64808-118">You can also start, stop, and put a job queue entry on hold manually.</span></span>

### <a name="log-files"></a><span data-ttu-id="64808-119">Log Files</span><span class="sxs-lookup"><span data-stu-id="64808-119">Log Files</span></span>
<span data-ttu-id="64808-120">Los errores se muestran en la ventana **Registro de entradas de cola proyecto** a la que se accede de la cinta.</span><span class="sxs-lookup"><span data-stu-id="64808-120">Errors are listed in the **Job Queue Log Entries** window that you can access from the ribbon.</span></span> <span data-ttu-id="64808-121">También puede solucionar errores de la cola de proyectos.</span><span class="sxs-lookup"><span data-stu-id="64808-121">You can also troubleshoot job queue errors.</span></span> <span data-ttu-id="64808-122">Los datos generados al ejecutar una cola de proyectos se almacenan en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="64808-122">Data that is generated when a job queue is run is stored in the database.</span></span>  

### <a name="background-posting-with-job-queues"></a><span data-ttu-id="64808-123">Registro de fondo con colas de proyecto</span><span class="sxs-lookup"><span data-stu-id="64808-123">Background Posting with Job Queues</span></span>
<span data-ttu-id="64808-124">Las colas de proyectos son un instrumento eficaz para programar la ejecución de procesos de negocio de fondo.</span><span class="sxs-lookup"><span data-stu-id="64808-124">Job queues are an effective tool to schedule the running of business processes in the background.</span></span> <span data-ttu-id="64808-125">Por ejemplo, puede haber un caso en el que varios usuarios intenten registrar pedidos de venta simultáneamente, pero solo se puede procesar un pedido al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="64808-125">For example, there may be an instance in which multiple users are trying to post sales orders at the same time, but only one order can be processed at a time.</span></span> <span data-ttu-id="64808-126">Al configurar la rutina de registro de fondo, puede colocar los registros en una cola para su procesamiento de fondo.</span><span class="sxs-lookup"><span data-stu-id="64808-126">By setting up a background posting routine, you can place the postings in a queue for processing in the background.</span></span>  

 <span data-ttu-id="64808-127">Alternativamente, puede que desee programar registros para horas en que resulta adecuado para su organización.</span><span class="sxs-lookup"><span data-stu-id="64808-127">Alternatively, you may want to schedule postings for hours when it is convenient for your organization.</span></span> <span data-ttu-id="64808-128">Por ejemplo, para su empresa puede ser útil ejecutar ciertas rutinas cuando la mayor parte de la introducción de datos del día ha concluido.</span><span class="sxs-lookup"><span data-stu-id="64808-128">For example, it may make sense in your business to run certain routines when most of the data entry for the day has concluded.</span></span> <span data-ttu-id="64808-129">Para hacerlo, configure la cola de trabajos para que ejecute varios informes de registro por lotes, como el **Reg. lotes pedidos venta**, el **Reg. lotes facturas ventas** y el **Reg. lotes abonos venta**.</span><span class="sxs-lookup"><span data-stu-id="64808-129">You can achieve this by setting the job queue up to run various batch post reports, such as the **Batch Post Sales Orders**, **Batch Post Sales Invoices**, and **Batch Post Sales Credit Memos** reports.</span></span>  

 [!INCLUDE[d365fin](includes/d365fin_md.md)]<span data-ttu-id="64808-130"> admite el registro en segundo plano para los siguientes tipos de documento:</span><span class="sxs-lookup"><span data-stu-id="64808-130"> supports background posting for the following document types:</span></span>  

-   <span data-ttu-id="64808-131">Venta: pedido de venta, pedido de devolución, nota de crédito, factura</span><span class="sxs-lookup"><span data-stu-id="64808-131">Sales: sales order, return order, credit memo, invoice</span></span>  

-   <span data-ttu-id="64808-132">Compra: pedido de compra, pedido de devolución, nota de crédito, factura</span><span class="sxs-lookup"><span data-stu-id="64808-132">Purchases: purchase order, return order, credit memo, invoice</span></span>  

 <span data-ttu-id="64808-133">Si la cola de proyectos no puede registrar el pedido de venta, cambie el estado a **Error** y el pedido de venta se agregará a la lista de pedidos de venta que el usuario tendrá que administrar.</span><span class="sxs-lookup"><span data-stu-id="64808-133">If the job queue cannot post the sales order, the status is changed to **Error**, and the sales order is added to the list of sales orders that the user will have to handle.</span></span>  

> [!NOTE]  
>  <span data-ttu-id="64808-134">Al programa un documento para su registro y el proceso de registro comienza, la rutina de registro se configura automáticamente para tener un tiempo de espera de dos horas si la rutina de registro deja de responder por cualquier motivo.</span><span class="sxs-lookup"><span data-stu-id="64808-134">When you schedule a document for posting and the posting process begins, the posting routine is automatically configured to time out within two hours if the posting routine stops responding for any reason.</span></span>  

<span data-ttu-id="64808-135">Puede configurar este uso de cola de proyecto en la ventana **Configuración de ventas y cobros** o **Compras y pagos** , respectivamente.</span><span class="sxs-lookup"><span data-stu-id="64808-135">You set up this use of the job queue in the **Sales & Receivables Setup** window or the **Purchases & Payables** window, respectively.</span></span> <span data-ttu-id="64808-136">En la ficha desplegable **Registro de fondo** , elija la casilla de verificación **Envío de documentos mediante la cola de proyecto** y rellene la información correspondiente.</span><span class="sxs-lookup"><span data-stu-id="64808-136">On the **Background Posting** FastTab, you choose the **Post Documents via Job Queue** check box and then fill in the relevant information.</span></span> <span data-ttu-id="64808-137">Aquí también puede utilizar el campo **Código de categoría de cola de proyectos** para ejecutar todas las entradas de la cola de proyecto con ese código.</span><span class="sxs-lookup"><span data-stu-id="64808-137">Here you can also use the **Job Queue Category Code** field to run all job queue entries with that code.</span></span> <span data-ttu-id="64808-138">Por ejemplo, puede usar una categotóa **Envío de ventas** que filtra todos los pedidos de venta que coincidan con cualquier cola de proyectos que tenga el mismo código de categoría.</span><span class="sxs-lookup"><span data-stu-id="64808-138">For example, you can use  a **SalesPost** category that filters to all sales orders that match any job queue that has the same category code.</span></span>  

> [!IMPORTANT]  
>  <span data-ttu-id="64808-139">Si configura un proyecto que va a registrar e imprimir documentos y la impresora muestra un cuadro de diálogo, como una solicitud de credenciales o una advertencia sobre un nivel bajo de tinta de impresora, el documento se registra pero no se imprime.</span><span class="sxs-lookup"><span data-stu-id="64808-139">If you set up a job that will post and print documents, and the printer displays a dialog box, such as a request for credentials or a warning about low printer ink, your document is posted but not printed.</span></span> <span data-ttu-id="64808-140">Finalmente, el tiempo de espera del movimiento de cola de proyectos correspondiente se agota y el campo **Estado** se establece **Error**.</span><span class="sxs-lookup"><span data-stu-id="64808-140">The corresponding job queue entry eventually times out and the **Status** field is set to **Error**.</span></span> <span data-ttu-id="64808-141">Por consiguiente, es recomendable no utilizar una configuración de impresora que requiere la interacción con la pantalla de cuadros de diálogo de la impresora junto con el registro en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="64808-141">Accordingly, we recommend that you do not use a printer setup that requires interaction with the display of printer dialog boxes in conjunction with background posting.</span></span>  

## <a name="use-the-my-job-queue-part"></a><span data-ttu-id="64808-142">Use el apartado de Mi cola proyecto</span><span class="sxs-lookup"><span data-stu-id="64808-142">Use the My Job Queue Part</span></span>
<span data-ttu-id="64808-143">El apartado **Mi cola proyecto** muestra los movimientos de colas de proyectos que un usuario ha iniciado, pero que aún no han finalizado.</span><span class="sxs-lookup"><span data-stu-id="64808-143">The **My Job Queue** part shows the job queues entries that a user has started, but which are not yet finished.</span></span> <span data-ttu-id="64808-144">Por defecto, el apartado no puede verse, por lo que tiene que agregarlo en el área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="64808-144">By default, the part is not visible, so you have to add it to your Role Center.</span></span> <span data-ttu-id="64808-145">Para obtener más información, vea [Procedimiento: Cambiar áreas de trabajo](change-role.md)</span><span class="sxs-lookup"><span data-stu-id="64808-145">For more information, see [How to: Change Role Centers](change-role.md).</span></span>  

<span data-ttu-id="64808-146">En este apartado, puede ver aquellos documentos que se están procesando o que están en la cola para los que se especifica su identificador en el campo **Id. usuario asignado**.</span><span class="sxs-lookup"><span data-stu-id="64808-146">In this part, you can see those documents that are being processed or that are queued for which your ID is specified in the **Assigned User ID** field.</span></span> <span data-ttu-id="64808-147">La parte le ayuda a realizar un seguimiento de todos los movimientos de cola de proyectos, incluidos los relacionados con el registro en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="64808-147">The part helps you keep track of all job queue entries, including those related to background posting.</span></span> <span data-ttu-id="64808-148">La parte puede indicar en un vistazo si se produjo error en el registro de un documento o si hay errores en un movimiento de cola de proyectos.</span><span class="sxs-lookup"><span data-stu-id="64808-148">The part can tell you at a glance whether there has been an error in the posting of a document or if there are errors in a job queue entry.</span></span> <span data-ttu-id="64808-149">El apartado también le permite cancelar un registro de documento si no se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="64808-149">The part also lets you cancel a document posting if it is not running.</span></span>  

## <a name="security"></a><span data-ttu-id="64808-150">Seguridad</span><span class="sxs-lookup"><span data-stu-id="64808-150">Security</span></span>  
<span data-ttu-id="64808-151">Los movimientos de cola de proyectos se ejecutan según los permisos.</span><span class="sxs-lookup"><span data-stu-id="64808-151">Job queue entries run based on permissions.</span></span> <span data-ttu-id="64808-152">Esos permisos deben permitir la ejecución del informe o la unidad de código.</span><span class="sxs-lookup"><span data-stu-id="64808-152">Those permissions must allow the execution of the report or codeunit.</span></span>  

<span data-ttu-id="64808-153">Cuando una cola de proyecto se activada de forma manual, se ejecuta con las credenciales del usuario.</span><span class="sxs-lookup"><span data-stu-id="64808-153">When a job queue is activated manually, it is run with the credentials of the user.</span></span> <span data-ttu-id="64808-154">Cuando una cola de proyecto se activa como tarea progamada, se ejecuta con las credenciales de la instancia del servidor.</span><span class="sxs-lookup"><span data-stu-id="64808-154">When a job queue is activated as a scheduled task, it is run with the credentials of the server instance.</span></span> <span data-ttu-id="64808-155">Cuando se ejecuta un proyecto, se ejecuta con las credenciales de la cola de proyecto que lo activa.</span><span class="sxs-lookup"><span data-stu-id="64808-155">When a job is run, it is run with the credentials of the job queue that activates it.</span></span> <span data-ttu-id="64808-156">Sin embargo, el usuario que creó ese movimiento de cola de proyecto también debe tener permisos.</span><span class="sxs-lookup"><span data-stu-id="64808-156">However, the user who created that job queue entry must also have permissions.</span></span> <span data-ttu-id="64808-157">Cuando un proyecto se “ejecuta en sesión de usuario” (por ejemplo, en el registro de fondo), se ejecuta con las credenciales del usuario que creó ese proyecto.</span><span class="sxs-lookup"><span data-stu-id="64808-157">When a job is “run in user session” (such as during background posting), it is run with the credentials of the user who created that job.</span></span>  

> [!IMPORTANT]  
>  <span data-ttu-id="64808-158">Si utiliza el conjunto de permisos SUPER que se suministran con [!INCLUDE[d365fin](includes/d365fin_md.md)], usted y sus usuarios tienen permisos para ejecutar todos los objetos.</span><span class="sxs-lookup"><span data-stu-id="64808-158">If you use the SUPER permissions set that comes with [!INCLUDE[d365fin](includes/d365fin_md.md)], you and your users have permissions to run all objects.</span></span> <span data-ttu-id="64808-159">En este caso, el acceso para cada usuario se ve limitado sólo por los permisos para los datos.</span><span class="sxs-lookup"><span data-stu-id="64808-159">In this case, access for each user is only limited by permissions for data.</span></span>  

## <a name="using-job-queues-effectively"></a><span data-ttu-id="64808-160">Uso eficaz de las colas de proyectos</span><span class="sxs-lookup"><span data-stu-id="64808-160">Using Job Queues Effectively</span></span>  
<span data-ttu-id="64808-161">El registro del movimiento de cola de proyectos tiene muchos campos cuya finalidad es incluir parámetros en una unidad de código especificada para ejecutarse con una cola de proyectos.</span><span class="sxs-lookup"><span data-stu-id="64808-161">The job queue entry record has many fields whose purpose is to carry parameters into a codeunit that you have specified to be run with a job queue.</span></span> <span data-ttu-id="64808-162">Esto también significa que las unidades de código que se van a ejecutar mediante la cola de proyectos se deben especificar con el registro del movimiento de la cola de proyectos como parámetro en el desencadenador **OnRun**.</span><span class="sxs-lookup"><span data-stu-id="64808-162">This also means that codeunits that are to be run via the job queue must be specified with the Job Queue Entry record as a parameter in the **OnRun** trigger.</span></span> <span data-ttu-id="64808-163">Esto ayuda a proporcionar un nivel de seguridad adicional, ya que evita que los usuarios ejecuten unidades de código aleatorias mediante la cola de proyectos.</span><span class="sxs-lookup"><span data-stu-id="64808-163">This helps provide an extra level of security, as this prevents users from running random codeunits via the job queue.</span></span> <span data-ttu-id="64808-164">Si el usuario debe transmitir parámetros a un informe, la única manera de hacerlo es ajustar la ejecución del informe en una unidad de código, que a continuación analiza los parámetros de entrada y los especifica en el informe antes de ejecutarlo.</span><span class="sxs-lookup"><span data-stu-id="64808-164">If the user must pass parameters to a report, the only way to do this is by wrapping the report execution into a codeunit, which then parses the input parameters and enters them into the report before executing it.</span></span>  

## <a name="see-also"></a><span data-ttu-id="64808-165">Consulte también</span><span class="sxs-lookup"><span data-stu-id="64808-165">See Also</span></span>  
[<span data-ttu-id="64808-166">Configuración y Administración en Dynamics 365 for Financials</span><span class="sxs-lookup"><span data-stu-id="64808-166">Setup and Administration in Dynamics 365 for Financials</span></span>](admin-setup-and-administration.md)  
[<span data-ttu-id="64808-167">Configurar Dynamics 365 for Financials</span><span class="sxs-lookup"><span data-stu-id="64808-167">Setting Up Dynamics 365 for Financials</span></span>](setup.md)  

