---
title: "Tutorial: Configuración y uso de un flujo de trabajo de aprobación de compra | Documentos de Microsoft"
description: "Puede automatizar el proceso de aprobar nuevos registros o registros modificados, como documentos, líneas de diario y fichas cliente, creando flujos de trabajo con pasos para las aprobaciones en cuestión. Antes de crear flujos de trabajo de aprobación, debe configurar un aprobador y un aprobador sustituto para cada usuario de aprobación. También puede establecer límites de cantidad de aprobadores para definir qué registros de venta y de compra pueden aprobar. Las solicitudes de aprobación y otras notificaciones se pueden enviar como mensajes de correo electrónico o como notas internas. Para cada configuración de usuario de aprobación, también puede configurar cuándo reciben notificaciones."
services: project-madeira
documentationcenter: 
author: SorenGP
ms.service: dynamics365-financials
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 
ms.date: 07/01/2017
ms.author: sgroespe
ms.translationtype: HT
ms.sourcegitcommit: bec0619be0a65e3625759e13d2866ac615d7513c
ms.openlocfilehash: 58c243000bea5b70666b2a08cdd5696444e22f0f
ms.contentlocale: es-es
ms.lasthandoff: 03/22/2018

---
# <a name="walkthrough-setting-up-and-using-a-purchase-approval-workflow"></a><span data-ttu-id="2ea99-107">Tutorial: Configuración y uso de un flujo de trabajo de aprobación de compra</span><span class="sxs-lookup"><span data-stu-id="2ea99-107">Walkthrough: Setting Up and Using a Purchase Approval Workflow</span></span>
<span data-ttu-id="2ea99-108">Puede automatizar el proceso de aprobar nuevos registros o registros modificados, como documentos, líneas de diario y fichas cliente, creando flujos de trabajo con pasos para las aprobaciones en cuestión.</span><span class="sxs-lookup"><span data-stu-id="2ea99-108">You can automate the process of approving new or changed records, such as documents, journal lines, and customer cards, by creating workflows with steps for the approvals in question.</span></span> <span data-ttu-id="2ea99-109">Antes de crear flujos de trabajo de aprobación, debe configurar un aprobador y un aprobador sustituto para cada usuario de aprobación.</span><span class="sxs-lookup"><span data-stu-id="2ea99-109">Before you create approval workflows, you must set up an approver and substitute approver for each approval user.</span></span> <span data-ttu-id="2ea99-110">También puede establecer límites de cantidad de aprobadores para definir qué registros de venta y de compra pueden aprobar.</span><span class="sxs-lookup"><span data-stu-id="2ea99-110">You can also set approvers’ amount limits to define which sales and purchase records they are qualified to approve.</span></span> <span data-ttu-id="2ea99-111">Las solicitudes de aprobación y otras notificaciones se pueden enviar como mensajes de correo electrónico o como notas internas.</span><span class="sxs-lookup"><span data-stu-id="2ea99-111">Approval requests and other notifications can be sent as email or internal note.</span></span> <span data-ttu-id="2ea99-112">Para cada configuración de usuario de aprobación, también puede configurar cuándo reciben notificaciones.</span><span class="sxs-lookup"><span data-stu-id="2ea99-112">For each approval user setup, you can also set up when they receive notifications.</span></span>  

 <span data-ttu-id="2ea99-113">Puede configurar y utilizar flujos de trabajo que vinculen tareas de procesos empresariales realizadas por distintos usuarios.</span><span class="sxs-lookup"><span data-stu-id="2ea99-113">You can set up and use workflows that connect business-process tasks performed by different users.</span></span> <span data-ttu-id="2ea99-114">Las tareas de sistema, como registros automáticos, se pueden incluir como pasos en los flujos de trabajo, antes o después de las tareas de usuario.</span><span class="sxs-lookup"><span data-stu-id="2ea99-114">System tasks, such as automatic posting, can be included as steps in workflows, preceded or followed by user tasks.</span></span> <span data-ttu-id="2ea99-115">Solicitar y conceder aprobaciones para crear registros nuevos son pasos habituales de un flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="2ea99-115">Requesting and granting approval to create new records are typical workflow steps.</span></span> <span data-ttu-id="2ea99-116">Para obtener más información, consulte [Flujo de trabajo](across-workflow.md).</span><span class="sxs-lookup"><span data-stu-id="2ea99-116">For more information, see [Workflow](across-workflow.md).</span></span>  

## <a name="about-this-walkthrough"></a><span data-ttu-id="2ea99-117">Acerca de este tutorial</span><span class="sxs-lookup"><span data-stu-id="2ea99-117">About This Walkthrough</span></span>  
<span data-ttu-id="2ea99-118">En este tutorial se ilustran las siguientes tareas:</span><span class="sxs-lookup"><span data-stu-id="2ea99-118">This walkthrough illustrates the following tasks:</span></span>  

-   <span data-ttu-id="2ea99-119">Configurar usuarios de aprobación (incluida la configuración de un usuario en Windows y en [!INCLUDE[d365fin](includes/d365fin_md.md)]).</span><span class="sxs-lookup"><span data-stu-id="2ea99-119">Setting up approval users (incl. setting up a user in Windows and in [!INCLUDE[d365fin](includes/d365fin_md.md)]).</span></span>  
-   <span data-ttu-id="2ea99-120">Configurar notificaciones para usuarios de aprobación.</span><span class="sxs-lookup"><span data-stu-id="2ea99-120">Setting up notifications for approval users.</span></span>  
-   <span data-ttu-id="2ea99-121">Modificar y activar un flujo de trabajo de aprobación.</span><span class="sxs-lookup"><span data-stu-id="2ea99-121">Modifying and enabling an approval workflow.</span></span>  
-   <span data-ttu-id="2ea99-122">Iniciar la cola de proyectos que envía notificaciones.</span><span class="sxs-lookup"><span data-stu-id="2ea99-122">Starting the job queue that dispatches notifications.</span></span>  
-   <span data-ttu-id="2ea99-123">Solicitar aprobación de un pedido de compra, como Alicia.</span><span class="sxs-lookup"><span data-stu-id="2ea99-123">Requesting approval of a purchase order, as Alicia.</span></span>  
-   <span data-ttu-id="2ea99-124">Recibir una notificación a continuación aprobar la solicitud, como Pedro.</span><span class="sxs-lookup"><span data-stu-id="2ea99-124">Receiving a notification and then approving the request, as Sean.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="2ea99-125">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="2ea99-125">Prerequisites</span></span>  
<span data-ttu-id="2ea99-126">Para completar este tutorial, necesitará la empresa de demostración CRONUS International Limited.</span><span class="sxs-lookup"><span data-stu-id="2ea99-126">To complete this walkthrough, you will need the CRONUS International Ltd. demonstration company.</span></span>

## <a name="story"></a><span data-ttu-id="2ea99-127">Historia</span><span class="sxs-lookup"><span data-stu-id="2ea99-127">Story</span></span>  
<span data-ttu-id="2ea99-128">Sean es un superusuario de CRONUS en su propio ordenador.</span><span class="sxs-lookup"><span data-stu-id="2ea99-128">Sean is a super user at CRONUS on his own computer.</span></span>  

<span data-ttu-id="2ea99-129">Crea dos usuarios de aprobación.</span><span class="sxs-lookup"><span data-stu-id="2ea99-129">He creates two approval users.</span></span> <span data-ttu-id="2ea99-130">Uno es Alicia, que representa un agente de compras.</span><span class="sxs-lookup"><span data-stu-id="2ea99-130">One is Alicia who represents a purchasing agent.</span></span> <span data-ttu-id="2ea99-131">El otro es él mismo, que representa al aprobador de Alicia.</span><span class="sxs-lookup"><span data-stu-id="2ea99-131">The other is himself representing Alicia’s approver.</span></span> <span data-ttu-id="2ea99-132">Pedro se concede derechos de aprobación de compra ilimitados y especifica que recibirá las notificaciones por la nota interna en cuanto se produzca un evento relevante.</span><span class="sxs-lookup"><span data-stu-id="2ea99-132">Sean then gives himself unlimited purchase approval rights and specifies that he will receive notifications by internal note as soon as a relevant event occurs.</span></span> <span data-ttu-id="2ea99-133">Por último, Pedro crea el flujo de trabajo de aprobación necesario como copia de la plantilla existente de flujo de trabajo de aprobación de pedido de compra, deja todas las condiciones de evento y las opciones de respuesta existentes sin cambiar y, a continuación, activa el flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="2ea99-133">Last, Sean creates the required approval workflow as a copy of the existing Purchase Order Approval Workflow workflow template, leaves all existing event conditions and response options unchanged, and then enables the workflow.</span></span>  

<span data-ttu-id="2ea99-134">Para probar el flujo de aprobación, Pedro primero inicia sesión en [!INCLUDE[d365fin](includes/d365fin_md.md)] como Alicia y, a continuación, solicita aprobación de un pedido de compra.</span><span class="sxs-lookup"><span data-stu-id="2ea99-134">To test the approval workflow, Sean first logs into [!INCLUDE[d365fin](includes/d365fin_md.md)] as Alicia, and then requests approval of a purchase order.</span></span> <span data-ttu-id="2ea99-135">Después inicia sesión como él mismo, ve la nota en su área de trabajo, sigue el vínculo a la solicitud de aprobación del pedido de compra y aprueba la solicitud.</span><span class="sxs-lookup"><span data-stu-id="2ea99-135">Sean then logs in as himself, sees the note on his Role Center, follows the link to the approval request for the purchase order, and approves the request.</span></span>  

## <a name="setting-up-the-sample-data"></a><span data-ttu-id="2ea99-136">Configuración de los datos de ejemplo</span><span class="sxs-lookup"><span data-stu-id="2ea99-136">Setting Up the Sample Data</span></span>  
<span data-ttu-id="2ea99-137">Debe crear un nuevo usuario en el equipo local y en [!INCLUDE[d365fin](includes/d365fin_md.md)] que represente a Alicia, el cual seleccionará posteriormente como usuario de aprobación.</span><span class="sxs-lookup"><span data-stu-id="2ea99-137">You must create a new user on the local computer and in [!INCLUDE[d365fin](includes/d365fin_md.md)] representing Alicia who you will later select as an approval user.</span></span> <span data-ttu-id="2ea99-138">Su propia cuenta de usuario representará a Pedro.</span><span class="sxs-lookup"><span data-stu-id="2ea99-138">Your own user account will represent Sean.</span></span>  

### <a name="to-add-alicia-as-a-user-on-the-local-computer"></a><span data-ttu-id="2ea99-139">Para agregar a Alicia como usuario en el equipo local</span><span class="sxs-lookup"><span data-stu-id="2ea99-139">To add Alicia as a user on the local computer</span></span>  

1.  <span data-ttu-id="2ea99-140">Elija **Inicio** y, en el cuadro **Buscar programas y archivos**, introduzca **Editar usuarios y grupos locales** y, a continuación, elija el vínculo relacionado.</span><span class="sxs-lookup"><span data-stu-id="2ea99-140">Choose **Start**, in the **Search programs and files** box, enter **Edit local users and groups**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="2ea99-141">Abra la carpeta **Usuarios**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-141">Open the **Users** folder.</span></span>  
3.  <span data-ttu-id="2ea99-142">En la pestaña **Acciones**, elija **Nuevo usuario**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-142">On the **Actions** tab, choose **New User**.</span></span>  
4.  <span data-ttu-id="2ea99-143">En el campo **Nombre usuario**, introduzca Alicia.</span><span class="sxs-lookup"><span data-stu-id="2ea99-143">In the **User Name** field, enter Alicia.</span></span>  
5.  <span data-ttu-id="2ea99-144">En los campos **Contraseña** y **Confirmar contraseña**, introduzca una contraseña válida.</span><span class="sxs-lookup"><span data-stu-id="2ea99-144">In the **Password** and **Confirm Password** fields, enter a valid password.</span></span>  
6.  <span data-ttu-id="2ea99-145">Anule la selección de la casilla **El usuario debe cambiar la contraseña en el siguiente inicio de sesión**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-145">Deselect the **User must change password at next logon** check box.</span></span>  
7.  <span data-ttu-id="2ea99-146">Cierre la ventana **Usuarios y grupos locales**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-146">Close the **Local Users and Groups** window.</span></span>  

### <a name="to-add-alicia-as-a-user-in-included365finincludesd365finmdmd"></a><span data-ttu-id="2ea99-147">Para agregar a Alicia como usuario en [!INCLUDE[d365fin](includes/d365fin_md.md)]</span><span class="sxs-lookup"><span data-stu-id="2ea99-147">To add Alicia as a user in [!INCLUDE[d365fin](includes/d365fin_md.md)]</span></span>  
1.  <span data-ttu-id="2ea99-148">Seleccione el icono ![Buscar página o informe](media/ui-search/search_small.png "icono Buscar página o informe"), escriba **Usuarios** y, a continuación, seleccione el vínculo relacionado.</span><span class="sxs-lookup"><span data-stu-id="2ea99-148">Choose the ![Search for Page or Report](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Users**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="2ea99-149">En la ventana **Usuarios de Windows**, de la pestaña **Inicio**, del grupo **Nuevo**, elige **Nuevo**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-149">In the **Windows Users** window, on the **Home** tab, in the **New** group, choose **New**.</span></span>  
3.  <span data-ttu-id="2ea99-150">En la ventana **Ficha de usuario** , en el campo **Nombre usuario** , introduzca a Alicia.</span><span class="sxs-lookup"><span data-stu-id="2ea99-150">In the **User Card** window, in the **User Name** field, enter Alicia.</span></span>  
4.  <span data-ttu-id="2ea99-151">En los campos **Nombre de usuario de Windows**, seleccione el botón AssistEdit.</span><span class="sxs-lookup"><span data-stu-id="2ea99-151">In the **Windows User Name** field, choose the AssistEdit button.</span></span>  
5.  <span data-ttu-id="2ea99-152">En la ventana **Seleccionar usuario o grupo**, en el campo **Escriba el nombre de objeto que seleccionar**, introduzca Alicia y seleccione el botón **Comprobar nombres**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-152">In the **Select User or Group**, window, in the **Enter the object name to select** field, enter Alicia, and then choose the **Check Names** button.</span></span>  
6.  <span data-ttu-id="2ea99-153">Cuando [NOMBRE DE EQUIPO]ALICIA aparezca en el campo, seleccione el botón **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-153">When [COMPUTER NAME]ALICIA appears in the field, choose the **OK** button.</span></span>  
7.  <span data-ttu-id="2ea99-154">En la ficha desplegable **Conjuntos de permisos de usuario**, en el campo **Conjunto de permisos**, especifique **SUPER**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-154">On the **User Permission Sets** FastTab, in the **Permission Set** field, select **SUPER**.</span></span>  
8.  <span data-ttu-id="2ea99-155">En el campo **Empresa**, seleccione **CRONUS International Ltd.**</span><span class="sxs-lookup"><span data-stu-id="2ea99-155">In the **Company** field, select **CRONUS International Ltd.**</span></span>  
9. <span data-ttu-id="2ea99-156">Elija el botón **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-156">Choose the **OK** button.</span></span>  

## <a name="setting-up-approval-users"></a><span data-ttu-id="2ea99-157">Configuración de usuarios de aprobación</span><span class="sxs-lookup"><span data-stu-id="2ea99-157">Setting Up Approval Users</span></span>  
<span data-ttu-id="2ea99-158">Mediante el usuario de Windows que acaba de crear, configure Alicia como usuario de aprobación cuyo aprobador sea usted mismo.</span><span class="sxs-lookup"><span data-stu-id="2ea99-158">Using the Windows user that you have just created, set Alicia up as an approval user whose approver is yourself.</span></span> <span data-ttu-id="2ea99-159">Configure sus derechos de aprobación y especifique cómo y cuándo se le notificarán las solicitudes de aprobación.</span><span class="sxs-lookup"><span data-stu-id="2ea99-159">Set up your approval rights and specify how and when you are notified of approval requests.</span></span>  

### <a name="to-set-up-yourself-and-alicia-as-approval-users"></a><span data-ttu-id="2ea99-160">Para configurarse a usted y a Alicia como usuarios de aprobación</span><span class="sxs-lookup"><span data-stu-id="2ea99-160">To set up yourself and Alicia as approval users</span></span>  
1.  <span data-ttu-id="2ea99-161">Elija el icono ![Buscar página o informe](media/ui-search/search_small.png "icono Buscar página o informe"), escriba **Configuración usuario aprobación** y, a continuación, seleccione el vínculo relacionado.</span><span class="sxs-lookup"><span data-stu-id="2ea99-161">Choose the ![Search for Page or Report](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Approval User Setup**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="2ea99-162">En la ventana **Config. usuario aprobación**, en la pestaña **Inicio**, en el grupo **Nuevo**, elija **Nuevo**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-162">In the **Approval User Setup** window, on the **Home** tab, in the **New** group, choose **New**.</span></span>  

    > [!NOTE]  
    >  <span data-ttu-id="2ea99-163">Debe configurar un aprobador para poder configurar usuarios que requieren la aprobación del aprobador.</span><span class="sxs-lookup"><span data-stu-id="2ea99-163">You must set up an approver before you can set up users who require that approver's approval.</span></span> <span data-ttu-id="2ea99-164">Así, antes de configurar a Alicia, debe configurarse a sí mismo.</span><span class="sxs-lookup"><span data-stu-id="2ea99-164">Therefore, you must set up yourself before you set up Alicia.</span></span>  

3.  <span data-ttu-id="2ea99-165">Configure a los dos usuarios de aprobación rellenando los campos tal como se describe en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="2ea99-165">Set up the two approval users by filling the fields as described in the following table.</span></span>  

    |<span data-ttu-id="2ea99-166">Id. de usuario</span><span class="sxs-lookup"><span data-stu-id="2ea99-166">User ID</span></span>|<span data-ttu-id="2ea99-167">Id. aprobador</span><span class="sxs-lookup"><span data-stu-id="2ea99-167">Approver ID</span></span>|<span data-ttu-id="2ea99-168">Aprobación compra ilimitada</span><span class="sxs-lookup"><span data-stu-id="2ea99-168">Unlimited Purchase Approval</span></span>|  
    |-------------|-----------------|---------------------------------|  
    |<span data-ttu-id="2ea99-169">[NOMBRE DE EQUIPO][USTED]</span><span class="sxs-lookup"><span data-stu-id="2ea99-169">[COMPUTER NAME][YOU]</span></span>||<span data-ttu-id="2ea99-170">Seleccionado</span><span class="sxs-lookup"><span data-stu-id="2ea99-170">Selected</span></span>|  
    |<span data-ttu-id="2ea99-171">[NOMBRE DE EQUIPO]ALICIA</span><span class="sxs-lookup"><span data-stu-id="2ea99-171">[COMPUTER NAME]ALICIA</span></span>|<span data-ttu-id="2ea99-172">[NOMBRE DE EQUIPO][USTED]</span><span class="sxs-lookup"><span data-stu-id="2ea99-172">[COMPUTER NAME][YOU]</span></span>||  

## <a name="setting-up-notifications"></a><span data-ttu-id="2ea99-173">Configuración de notificaciones</span><span class="sxs-lookup"><span data-stu-id="2ea99-173">Setting Up Notifications</span></span>  
<span data-ttu-id="2ea99-174">Especifique cómo y cuándo se le notificarán las solicitudes de aprobación.</span><span class="sxs-lookup"><span data-stu-id="2ea99-174">Specify how and when you are notified of approval requests.</span></span>  

### <a name="to-set-up-how-and-when-you-are-notified"></a><span data-ttu-id="2ea99-175">Para configurar cómo y cuándo recibirá notificaciones</span><span class="sxs-lookup"><span data-stu-id="2ea99-175">To set up how and when you are notified</span></span>  
1.  <span data-ttu-id="2ea99-176">En la ventana **Config. usuario aprobación**, seleccione la línea correspondiente a usted y, en la pestaña **Inicio**, en el grupo **Procesar**, seleccione **Configuración de notificación**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-176">In the **Approval User Setup** window, select the line for yourself, and then on the **Home** tab, in the **Process** group, choose **Notification Setup**.</span></span>  
2.  <span data-ttu-id="2ea99-177">En la ventana **Configuración de notificación**, en el campo **Tipo de notificación**, especifique **Aprobación**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-177">In the **Notification Setup** window, in the **Notification Type** field, enter **Approval**.</span></span>  
3.  <span data-ttu-id="2ea99-178">Seleccione el campo **Código plantilla notificación** y después pulse el botón **Avanzado**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-178">Choose the **Notification Template Code** field, and then choose the **Advanced** button.</span></span>  
4.  <span data-ttu-id="2ea99-179">En la ventana **Plantillas de notificación**, de la pestaña **Inicio**, en el grupo **Administrar**, elija **Editar lista**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-179">In the **Notification Templates** window, on the **Home** tab, in the **Manage** group, choose **Edit List**.</span></span>  
5.  <span data-ttu-id="2ea99-180">En la línea de la plantilla de APROBACIÓN, en el campo **Método de notificación**, introduzca **Nota**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-180">On the line for the APPROVAL template, in the **Notification Method** field, enter **Note**.</span></span>  
6.  <span data-ttu-id="2ea99-181">Elija el botón **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-181">Choose the **OK** button.</span></span>  
7.  <span data-ttu-id="2ea99-182">En la ventana **Configuración de notificación**, de la pestaña **Inicio**, del grupo **Proceso**, elija **Programación de notificaciones**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-182">In the **Notification Setup** window, on the **Home** tab, in the **Process** group, choose **Notification Schedule**.</span></span>  
8.  <span data-ttu-id="2ea99-183">En la ventana **Programación de notificación**, del campo **Repetición**, elija **Inmediatamente**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-183">In the **Notification Schedule** window, in the **Occurence** field, choose **Instantly**.</span></span>  
9. <span data-ttu-id="2ea99-184">Elija el botón **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-184">Choose the **OK** button.</span></span>  

## <a name="creating-the-approval-workflow"></a><span data-ttu-id="2ea99-185">Creación del flujo de aprobación</span><span class="sxs-lookup"><span data-stu-id="2ea99-185">Creating the Approval Workflow</span></span>  
 <span data-ttu-id="2ea99-186">Cree el flujo de aprobación de pedido de compra copiando los pasos de la plantilla de flujo de trabajo de aprobación de pedido de compra.</span><span class="sxs-lookup"><span data-stu-id="2ea99-186">Create the purchase order approval workflow by copying the steps from the Purchase Order Approval Workflow workflow template.</span></span> <span data-ttu-id="2ea99-187">Deje los pasos de flujo de trabajo existentes sin cambiar y, a continuación, active el flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="2ea99-187">Leave the existing workflow steps unchanged, and then enable the workflow.</span></span>  

### <a name="to-create-and-enable-a-purchase-order-approval-workflow"></a><span data-ttu-id="2ea99-188">Para crear y activar un flujo de trabajo de aprobación de pedido de compra</span><span class="sxs-lookup"><span data-stu-id="2ea99-188">To create and enable a purchase order approval workflow</span></span>  
1.  <span data-ttu-id="2ea99-189">Seleccione el icono ![Buscar página o informe](media/ui-search/search_small.png "icono Buscar página o informe"), escriba **Flujos de trabajo** y, a continuación, seleccione el vínculo relacionado.</span><span class="sxs-lookup"><span data-stu-id="2ea99-189">Choose the ![Search for Page or Report](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Workflows**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="2ea99-190">En la ventana **Flujos de trabajo**, de la pestaña **Acciones**, del grupo **General**, elija **Crear flujo de trabajo desde una plantilla**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-190">In the **Workflows** window, on the **Actions** tab, in the **General** group, choose **Create Workflow from Template**.</span></span>  
3.  <span data-ttu-id="2ea99-191">En la pestaña **Acciones** de la pestaña **General**, elige **Crear flujo de trabajo desde una plantilla**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-191">On the **Actions** tab, in the **General** group, choose **Create Workflow from Template**.</span></span> <span data-ttu-id="2ea99-192">Se abre la ventana **Plantillas de flujo de trabajo**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-192">The **Workflow Templates** window opens.</span></span>  
4.  <span data-ttu-id="2ea99-193">Selecciona la plantilla de flujo de trabajo denominada Flujo de trabajo de aprobación de pedido de compra y haz clic en el botón **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-193">Select the workflow template named Purchase Order Approval Workflow, and then choose the **OK** button.</span></span>  

    <span data-ttu-id="2ea99-194">La ventana **Flujo de trabajo** se abre para un nuevo flujo de trabajo que contiene toda la información de la plantilla seleccionada.</span><span class="sxs-lookup"><span data-stu-id="2ea99-194">The **Workflow** window opens for a new workflow containing all the information of the selected template.</span></span> <span data-ttu-id="2ea99-195">El valor del campo **Código** se amplía con “-01” para indicar que este es el primer flujo de trabajo creado a partir de la plantilla de flujo de trabajo denominada Flujo de trabajo de aprobación de pedido de compra.</span><span class="sxs-lookup"><span data-stu-id="2ea99-195">The value in the **Code** field is extended with “-01” to indicate that this is the first workflow that is created from the Purchase Order Approval Workflow workflow template.</span></span>  
5.  <span data-ttu-id="2ea99-196">En el encabezado de la ventana **Flujo de trabajo**, seleccione la casilla **Habilitado**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-196">On the header of the **Workflow** window, select the **Enabled** check box.</span></span>  

## <a name="starting-a-notification-job-queue"></a><span data-ttu-id="2ea99-197">Inicio de una cola de proyectos de notificación</span><span class="sxs-lookup"><span data-stu-id="2ea99-197">Starting a Notification Job Queue</span></span>  
<span data-ttu-id="2ea99-198">Asegúrese de que hay una cola de proyectos configurada en la instalación para gestionar las notificaciones de flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="2ea99-198">Make sure that a job queue in your installation is set up to handle workflow notifications.</span></span>  

### <a name="to-start-the-notify-job-queue"></a><span data-ttu-id="2ea99-199">Para iniciar la cola de proyectos de NOTIFICACIÓN</span><span class="sxs-lookup"><span data-stu-id="2ea99-199">To start the NOTIFY job queue</span></span>  
1.  <span data-ttu-id="2ea99-200">Seleccione el icono ![Buscar página o informe](media/ui-search/search_small.png "icono Buscar página o informe"), escriba **Colas de proyectos** y, a continuación, seleccione el vínculo relacionado.</span><span class="sxs-lookup"><span data-stu-id="2ea99-200">Choose the ![Search for Page or Report](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Job Queues**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="2ea99-201">En la ventana **Colas de proyectos**, seleccione la línea de la cola de proyecto de NOTIFICAR y después, en la pestaña **Inicio** del grupo **Proceso**, elija **Iniciar cola de proyecto**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-201">In the **Job Queues** window, select the line for the NOTIFY job queue, and then, on the **Home** tab, in the **Process** group, choose **Start Job Queue**.</span></span>  

## <a name="using-the-approval-workflow"></a><span data-ttu-id="2ea99-202">Uso del flujo de trabajo de aprobación</span><span class="sxs-lookup"><span data-stu-id="2ea99-202">Using the Approval Workflow</span></span>  
<span data-ttu-id="2ea99-203">Utilice el nuevo flujo de trabajo de aprobación de pedido de compra registrándose primero en [!INCLUDE[d365fin](includes/d365fin_md.md)] como Alicia para solicitar la aprobación de un pedido de compra.</span><span class="sxs-lookup"><span data-stu-id="2ea99-203">Use the new Purchase Order Approval Workflow workflow by first logging into [!INCLUDE[d365fin](includes/d365fin_md.md)] as Alicia to request approval of a purchase order.</span></span> <span data-ttu-id="2ea99-204">Después, inicie sesión como usted mismo, consulte la nota en el área de trabajo, siga el vínculo a la solicitud de aprobación y, a continuación, apruebe la solicitud.</span><span class="sxs-lookup"><span data-stu-id="2ea99-204">Then log in as yourself, view the note on the Role Center, follow the link to the approval request, and then approve the request.</span></span>  

<span data-ttu-id="2ea99-205">Para iniciar sesión en [!INCLUDE[d365fin](includes/d365fin_md.md)] como diferentes usuarios, utilizará la función **Ejecutar como otro usuario**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-205">To log into [!INCLUDE[d365fin](includes/d365fin_md.md)] as different users, you will use the **Run as different user** function.</span></span>  

### <a name="to-log-into-included365finincludesd365finmdmd-as-alicia"></a><span data-ttu-id="2ea99-206">Para iniciar sesión en [!INCLUDE[d365fin](includes/d365fin_md.md)] como Alicia</span><span class="sxs-lookup"><span data-stu-id="2ea99-206">To log into [!INCLUDE[d365fin](includes/d365fin_md.md)] as Alicia</span></span>  

1.  <span data-ttu-id="2ea99-207">Para el cliente web [!INCLUDE[d365fin](includes/d365fin_md.md)], en el botón de inicio del explorador de la página web, presione Mayús y haga con el botón secundario al mismo tiempo; a continuación, elija **Ejecutar como otro usuario**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-207">For the [!INCLUDE[d365fin](includes/d365fin_md.md)] web client, on the browser launch button for the web page, press Shift + Right-Click, and then choose **Run as different user**.</span></span>  

    <span data-ttu-id="2ea99-208">Para el cliente de Windows [!INCLUDE[d365fin](includes/d365fin_md.md)], en el botón de inicio del programa, presione Mayús y haga con el botón secundario al mismo tiempo; a continuación, elija **Ejecutar como otro usuario**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-208">For the [!INCLUDE[d365fin](includes/d365fin_md.md)] Windows client, on the launch button for the program, press Shift + Right-Click, and then choose **Run as different user**.</span></span>  

2.  <span data-ttu-id="2ea99-209">En la ventana **Seguridad de Windows**, introduzca [NOMBRE DE EQUIPO]ALICIA y la contraseña requerida.</span><span class="sxs-lookup"><span data-stu-id="2ea99-209">In the **Windows Security** window, enter [COMPUTER NAME]ALICIA and the required password.</span></span>  

### <a name="to-request-approval-of-a-purchase-order-as-alicia"></a><span data-ttu-id="2ea99-210">Para solicitar aprobación de un pedido de compra como Alicia</span><span class="sxs-lookup"><span data-stu-id="2ea99-210">To request approval of a purchase order, as Alicia</span></span>  

1.  <span data-ttu-id="2ea99-211">Seleccione el icono ![Buscar página o informe](media/ui-search/search_small.png "icono Buscar página o informe"), escriba **Pedidos de compra** y, a continuación, seleccione el vínculo relacionado.</span><span class="sxs-lookup"><span data-stu-id="2ea99-211">Choose the ![Search for Page or Report](media/ui-search/search_small.png "Search for Page or Report icon") icon, enter **Purchase Orders**, and then choose the related link.</span></span>  
2.  <span data-ttu-id="2ea99-212">Seleccione la línea para el pedido de compra 104001 y, a continuación, en la pestaña **Inicio**, en el grupo **Administrar**, elija **Editar**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-212">Select the line for open purchase order 104001, and then on the **Home** tab, in the **Manage** group, choose **Edit**.</span></span>  
3.  <span data-ttu-id="2ea99-213">En la ventana **Pedido de compra**, de la pestaña **Acciones** del grupo **Aprobación**, elija **Enviar solicitud de aprobación**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-213">In the **Purchase Order** window, on the **Actions** tab, in the **Approval** group, choose **Send Approval Request**.</span></span>  

    <span data-ttu-id="2ea99-214">Observe que el valor del campo **Estado** ha cambiado **Pendiente de aprobación**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-214">Notice that the value in the **Status** field has changed to **Pending Approval**.</span></span>  

4.  <span data-ttu-id="2ea99-215">Cerrar [!INCLUDE[d365fin](includes/d365fin_md.md)]</span><span class="sxs-lookup"><span data-stu-id="2ea99-215">Close [!INCLUDE[d365fin](includes/d365fin_md.md)].</span></span>  

### <a name="to-approve-the-purchase-order-as-sean"></a><span data-ttu-id="2ea99-216">Para aprobar el pedido de compra como Pedro</span><span class="sxs-lookup"><span data-stu-id="2ea99-216">To approve the purchase order, as Sean</span></span>  

1.  <span data-ttu-id="2ea99-217">Abra [!INCLUDE[d365fin](includes/d365fin_md.md)] como lo hace generalmente.</span><span class="sxs-lookup"><span data-stu-id="2ea99-217">Open [!INCLUDE[d365fin](includes/d365fin_md.md)] as you generally do.</span></span> <span data-ttu-id="2ea99-218">El programa se abrirá con usted como usuario.</span><span class="sxs-lookup"><span data-stu-id="2ea99-218">The program will open with you as the user.</span></span>  
2.  <span data-ttu-id="2ea99-219">En el área de trabajo, en la ventana **Mis notificaciones**, busque una nueva nota de Alicia.</span><span class="sxs-lookup"><span data-stu-id="2ea99-219">On the Role Center, in the **My Notifications** window, look for a new note from Alicia.</span></span>  

    > [!NOTE]  
    >  <span data-ttu-id="2ea99-220">Aunque le repetición de notificación está definida en **Inmediatamente**, la nota llegará aproximadamente un minuto después de que Alicia haya enviado la solicitud de aprobación.</span><span class="sxs-lookup"><span data-stu-id="2ea99-220">Although the notification recurrence is set to **Instantly**, the note will arrive approximately one minute after Alicia sent the approval request.</span></span> <span data-ttu-id="2ea99-221">Esto se debe a la frecuencia de la repetición predeterminada de la función de cola de proyectos.</span><span class="sxs-lookup"><span data-stu-id="2ea99-221">This is due to the default recurrence frequency of the Job Queue feature.</span></span>  

3.  <span data-ttu-id="2ea99-222">Cuando la nota aparezca en la ventana **Mis notificaciones**, elija el valor **Movimiento aprobación: XX, XX** en el campo **Página**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-222">When the note appears in the **My Notifications** window, choose the **Approval Entry: XX, XX** value in the **Page** field.</span></span> <span data-ttu-id="2ea99-223">La ventana **Solicitudes para aprobar** se abre con la petición de Alicia del pedido de compra resaltado.</span><span class="sxs-lookup"><span data-stu-id="2ea99-223">The **Requests to Approve** window opens with Alicia’s request for the purchase order highlighted.</span></span>  
4.  <span data-ttu-id="2ea99-224">En la ventana **Solicitudes para aprobar**, en la pestaña **Inicio**, en el grupo **Proceso**, elija **Aprobar**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-224">In the **Requests to Approve** window, on the **Home** tab, in the **Process** group, choose **Approve**.</span></span>  

    <span data-ttu-id="2ea99-225">El valor del campo **Estado** del pedido de compra de Alicia cambia **Lanzado**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-225">The value in the **Status** field on Alicia’s purchase order changes to **Released**.</span></span>  

<span data-ttu-id="2ea99-226">Ya ha configurado y probado un flujo de trabajo de aprobación sencillo según los dos primeros pasos del flujo de trabajo de aprobación de pedido de compra.</span><span class="sxs-lookup"><span data-stu-id="2ea99-226">You have now set up and tested a simple approval workflow based on the first two steps of the Purchase Order Approval Workflow workflow.</span></span> <span data-ttu-id="2ea99-227">Puede ampliar fácilmente este flujo de trabajo para registrar automáticamente el pedido de compra de Alicia cuando Pedro lo apruebe.</span><span class="sxs-lookup"><span data-stu-id="2ea99-227">You can easily extend this workflow to automatically post Alicia’s purchase order when Sean approves it.</span></span> <span data-ttu-id="2ea99-228">Para hacerlo, debe activar el flujo de trabajo de factura de compra, en el que la respuesta a una factura de compra lanzada es registrarla.</span><span class="sxs-lookup"><span data-stu-id="2ea99-228">To do this, you must enable the Purchase Invoice Workflow workflow, in which the response to a released purchase invoice is to post it.</span></span> <span data-ttu-id="2ea99-229">Primero debe cambiar la condición del evento en el primer paso del flujo de trabajo (compra) **Factura** a **Pedido**.</span><span class="sxs-lookup"><span data-stu-id="2ea99-229">First you must change the event condition on the first workflow step from (purchase) **Invoice** to **Order**.</span></span>  

<span data-ttu-id="2ea99-230">La versión genérica de [!INCLUDE[d365fin](includes/d365fin_md.md)] incluye varias plantillas de flujo de trabajo para ejemplos compatibles con el código de aplicación.</span><span class="sxs-lookup"><span data-stu-id="2ea99-230">The generic version [!INCLUDE[d365fin](includes/d365fin_md.md)] includes a number of workflow templates for scenarios that are supported by the application code.</span></span> <span data-ttu-id="2ea99-231">La mayor parte de ellos son de los flujos de trabajo de aprobación.</span><span class="sxs-lookup"><span data-stu-id="2ea99-231">Most of these are for approval workflows.</span></span> <span data-ttu-id="2ea99-232">Para obtener más información, consulte Plantilla de flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="2ea99-232">For more information, see Workflow Templates.</span></span>  

<span data-ttu-id="2ea99-233">Las variaciones del flujo de trabajo se definen rellenando los campos de las líneas de flujo de trabajo en listas fijas de valores de evento y respuesta que representan ejemplos de flujo de trabajo que admite el código de aplicación.</span><span class="sxs-lookup"><span data-stu-id="2ea99-233">You define variations of workflows by filling fields on workflow lines from fixed lists of event and response values representing scenarios that are supported by the application code.</span></span> <span data-ttu-id="2ea99-234">Para obtener más información, consulte [Crear flujos de trabajo](across-how-to-create-workflows.md).</span><span class="sxs-lookup"><span data-stu-id="2ea99-234">For more information, see [Create Workflows](across-how-to-create-workflows.md).</span></span>  

<span data-ttu-id="2ea99-235">Si una situación de negocio requiere un evento de flujo de trabajo o respuesta no compatibles, un asociado de Microsoft tiene que implementarlos personalizando el código de aplicación.</span><span class="sxs-lookup"><span data-stu-id="2ea99-235">If a business scenario requires a workflow event or response that is not supported, a Microsoft partner must implement them by customizing the application code.</span></span> <span data-ttu-id="2ea99-236">Para obtener más información, consulte [Tutorial: Implementación de nuevos eventos y respuestas de flujo de trabajo](/dynamics-nav/Walkthrough--Implementing-New-Workflow-Events-and-Responses) en la ayuda para desarrolladores e informáticos.</span><span class="sxs-lookup"><span data-stu-id="2ea99-236">For more information, see [Walkthrough: Implementing New Workflow Events and Responses](/dynamics-nav/Walkthrough--Implementing-New-Workflow-Events-and-Responses) in the developer and IT-pro help.</span></span>  

## <a name="see-also"></a><span data-ttu-id="2ea99-237">Consulte también</span><span class="sxs-lookup"><span data-stu-id="2ea99-237">See Also</span></span>  
<span data-ttu-id="2ea99-238">[Configurar usuarios de aprobación](across-how-to-set-up-approval-users.md) </span><span class="sxs-lookup"><span data-stu-id="2ea99-238">[Set Up Approval Users](across-how-to-set-up-approval-users.md) </span></span>  
<span data-ttu-id="2ea99-239">[Configurar notificaciones de flujo de trabajo](across-setting-up-workflow-notifications.md) </span><span class="sxs-lookup"><span data-stu-id="2ea99-239">[Setting Up Workflow Notifications](across-setting-up-workflow-notifications.md) </span></span>  
<span data-ttu-id="2ea99-240">[Crear flujos de trabajo](across-how-to-create-workflows.md) </span><span class="sxs-lookup"><span data-stu-id="2ea99-240">[Create Workflows](across-how-to-create-workflows.md) </span></span>  
<span data-ttu-id="2ea99-241">[Usar flujos de trabajo de aprobación del producto](across-how-use-approval-workflows.md) </span><span class="sxs-lookup"><span data-stu-id="2ea99-241">[Use Approval Workflows](across-how-use-approval-workflows.md) </span></span>  
[<span data-ttu-id="2ea99-242">Flujo de trabajo</span><span class="sxs-lookup"><span data-stu-id="2ea99-242">Workflow</span></span>](across-workflow.md)

