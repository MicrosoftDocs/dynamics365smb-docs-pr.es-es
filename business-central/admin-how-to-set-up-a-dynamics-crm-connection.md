---
title: Conectar a Microsoft Dataverse
description: Puede integrar otras aplicaciones con Business Central a través de Microsoft Dataverse. Este artículo proporciona consejos y trucos para configurar las conexiones.
author: bholtorf
ms.service: dynamics365-business-central
ms.topic: conceptual
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 04/26/2021
ms.author: bholtorf
ms.openlocfilehash: 00034e8f1be2f88074fb33b53a1c048f81f69ede
ms.sourcegitcommit: 57e8ab70d70849752567eecf29529efe2dcdf3af
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/26/2021
ms.locfileid: "5941668"
---
# <a name="connect-to-microsoft-dataverse"></a><span data-ttu-id="8f163-104">Conectar a Microsoft Dataverse</span><span class="sxs-lookup"><span data-stu-id="8f163-104">Connect to Microsoft Dataverse</span></span>

[!INCLUDE[prod_short](includes/cc_data_platform_banner.md)]

<span data-ttu-id="8f163-105">Este tema describe cómo configurar una conexión entre [!INCLUDE[prod_short](includes/prod_short.md)] y [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8f163-105">This topic describes how to set up a connection between [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span> <span data-ttu-id="8f163-106">Por lo general, las empresas crean la conexión para integrar y sincronizar datos con otra aplicación empresarial de Dynamics 365, como [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8f163-106">Typically, businesses create the connection to integrate and synchronize data with another Dynamics 365 business app, such as [!INCLUDE[crm_md](includes/crm_md.md)].</span></span>  

## <a name="before-you-start"></a><span data-ttu-id="8f163-107">Antes de comenzar</span><span class="sxs-lookup"><span data-stu-id="8f163-107">Before You Start</span></span>

<span data-ttu-id="8f163-108">Hay algunos datos que debe tener listos para crear la conexión:</span><span class="sxs-lookup"><span data-stu-id="8f163-108">There are a few pieces of information to have ready before you create the connection:</span></span>  

* <span data-ttu-id="8f163-109">La dirección URL del entorno de [!INCLUDE[cds_long_md](includes/cds_long_md.md)] al que desea conectarse.</span><span class="sxs-lookup"><span data-stu-id="8f163-109">The URL for the [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment that you want to connect to.</span></span> <span data-ttu-id="8f163-110">Si usa la guía de configuración asistida **Configuración de conexión de Dataverse** para crear la conexión descubriremos los entornos, pero también puede introducir la URL de otro entorno en su suscriptor.</span><span class="sxs-lookup"><span data-stu-id="8f163-110">If you use the **Dataverse Connection Setup** assisted setup guide to create the connection we will discover your environments, but you can also enter the URL of another environment in your tenant.</span></span>  
* <span data-ttu-id="8f163-111">El nombre de usuario y la contraseña de una cuenta que tenga permisos de administrador en [!INCLUDE[prod_short](includes/prod_short.md)] y [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8f163-111">The user name and password of an account that has administrator permissions in [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>  
* <span data-ttu-id="8f163-112">Si tiene [!INCLUDE[prod_short](includes/prod_short.md)], lanzamiento de versiones 1 de 2020, local, versión 16.5, lea el artículo [Algunos problemas conocidos](/dynamics365/business-central/dev-itpro/upgrade/known-issues#wrong-net-assemblies-for-external-connected-services).</span><span class="sxs-lookup"><span data-stu-id="8f163-112">If you have an on-premises [!INCLUDE[prod_short](includes/prod_short.md)] 2020 release wave 1, version 16.5, read the [Some Known Issues](/dynamics365/business-central/dev-itpro/upgrade/known-issues#wrong-net-assemblies-for-external-connected-services) article.</span></span> <span data-ttu-id="8f163-113">Deberá completar la solución alternativa descrita antes de poder crear su conexión a [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8f163-113">You'll have to complete the described workaround before you can create your connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>
* <span data-ttu-id="8f163-114">La divisa local de la empresa en [!INCLUDE[prod_short](includes/prod_short.md)] debe ser la misma que la divisa base de la transacción en [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8f163-114">The local currency for the company in [!INCLUDE[prod_short](includes/prod_short.md)] must be the same as the base transaction currency in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span> <span data-ttu-id="8f163-115">Después de que se establece una transacción base en [!INCLUDE[cds_long_md](includes/cds_long_md.md)], no se puede cambiar.</span><span class="sxs-lookup"><span data-stu-id="8f163-115">After a base transaction is set in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] it cannot be changed.</span></span> <span data-ttu-id="8f163-116">Para más información, vea [Entidad de divisa de transacción (divisa)](/powerapps/developer/data-platform/transaction-currency-currency-entity).</span><span class="sxs-lookup"><span data-stu-id="8f163-116">For more information, see [Transaction Currency (currency) entity](/powerapps/developer/data-platform/transaction-currency-currency-entity).</span></span> <span data-ttu-id="8f163-117">Esto significa que todas las empresas [!INCLUDE[prod_short](includes/prod_short.md)] que conecta a una organización [!INCLUDE[cds_long_md](includes/cds_long_md.md)] deben utilizar la misma divisa.</span><span class="sxs-lookup"><span data-stu-id="8f163-117">This means that all [!INCLUDE[prod_short](includes/prod_short.md)] companies you connect to a [!INCLUDE[cds_long_md](includes/cds_long_md.md)] organization must use the same currency.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="8f163-118">Su ambiente [!INCLUDE[cds_long_md](includes/cds_long_md.md)] no debe estar en modo de administración.</span><span class="sxs-lookup"><span data-stu-id="8f163-118">Your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment must not be in Administration mode.</span></span> <span data-ttu-id="8f163-119">El modo de administración hará que la conexión falle porque la cuenta de usuario de integración para la conexión no tiene permisos de administrador.</span><span class="sxs-lookup"><span data-stu-id="8f163-119">Administration mode will cause the connection to fail because the integration user account for the connection does not have administrator permissions.</span></span> <span data-ttu-id="8f163-120">Para obtener más información, consulte [Modo de administración](/power-platform/admin/admin-mode).</span><span class="sxs-lookup"><span data-stu-id="8f163-120">For more information, see [Administration mode](/power-platform/admin/admin-mode).</span></span>

> [!Note]
> <span data-ttu-id="8f163-121">Estos pasos describen el procedimiento para [!INCLUDE[prod_short](includes/prod_short.md)] en línea.</span><span class="sxs-lookup"><span data-stu-id="8f163-121">These steps describe the procedure for [!INCLUDE[prod_short](includes/prod_short.md)] online.</span></span>
> <span data-ttu-id="8f163-122">Si está utilizando [!INCLUDE[prod_short](includes/prod_short.md)] on-premises y no está utilizando la cuenta de Azure Active Directory para conectarse a [!INCLUDE [cds_long_md](includes/cds_long_md.md)], también debe especificar un nombre de usuario y una contraseña de una cuenta de usuario para la integración.</span><span class="sxs-lookup"><span data-stu-id="8f163-122">If you are using [!INCLUDE[prod_short](includes/prod_short.md)] on-premises and are not using Azure Active Directory account to connect to [!INCLUDE [cds_long_md](includes/cds_long_md.md)], you must also specify a user name and password of a user account for the integration.</span></span> <span data-ttu-id="8f163-123">Esta cuenta se conoce como la cuenta de "usuario de integración".</span><span class="sxs-lookup"><span data-stu-id="8f163-123">This account is referred to as the "integration user" account.</span></span> <span data-ttu-id="8f163-124">Si está usando una cuenta de Azure Active Directory la cuenta de usuario de integración no es necesaria ni se muestra.</span><span class="sxs-lookup"><span data-stu-id="8f163-124">If you are using an Azure Active Directory account the integration user account is not required or displayed.</span></span> <span data-ttu-id="8f163-125">El usuario de integración se configurará automáticamente y no requiere una licencia.</span><span class="sxs-lookup"><span data-stu-id="8f163-125">The integration user will be set up automatically and does not require a license.</span></span>

## <a name="set-up-a-connection-to-cds_long_md"></a><span data-ttu-id="8f163-126">Configurar una conexión a [!INCLUDE[cds_long_md](includes/cds_long_md.md)]</span><span class="sxs-lookup"><span data-stu-id="8f163-126">Set Up a Connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)]</span></span>

<span data-ttu-id="8f163-127">En todos los tipos de autenticación distintos de la autenticación de Microsoft 365, configure la conexión a [!INCLUDE[cds_long_md](includes/cds_long_md.md)] en la página **Configuración de la conexión de Dataverse**.</span><span class="sxs-lookup"><span data-stu-id="8f163-127">For all authentication types other than Microsoft 365 authentication, you set up your connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] on the **Dataverse Connection Setup** page.</span></span> <span data-ttu-id="8f163-128">Para la autenticación de Microsoft 365, es recomendable que use la guía de configuración asistida **Configuración de conexión de Dataverse**.</span><span class="sxs-lookup"><span data-stu-id="8f163-128">For Microsoft 365 authentication, we recommend that you use the **Dataverse Connection Setup** assisted setup guide.</span></span> <span data-ttu-id="8f163-129">La guía simplifica la configuración de la conexión y permite especificar características avanzadas, como el modelo de propiedad y la sincronización inicial.</span><span class="sxs-lookup"><span data-stu-id="8f163-129">The guide makes it easier to set up the connection and specify advanced features, such as the ownership model and initial synchronization.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="8f163-130">Durante la configuración de la conexión a [!INCLUDE[cds_long_md](includes/cds_long_md.md)], se pedirá al administrador que otorgue los siguientes permisos a la aplicación de Azure registrada denominada Integración de [!INCLUDE[prod_short](includes/prod_short.md)] para [!INCLUDE[cds_long_md](includes/cds_long_md.md)]:</span><span class="sxs-lookup"><span data-stu-id="8f163-130">During the setup of the connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], the administrator will be asked to give following permissions to a registered Azure application named [!INCLUDE[prod_short](includes/prod_short.md)] Integration to [!INCLUDE[cds_long_md](includes/cds_long_md.md)]:</span></span>
>
> * <span data-ttu-id="8f163-131">Se necesita permiso de **Acceso a [!INCLUDE[cds_long_md](includes/cds_long_md.md)] como el suyo** para que [!INCLUDE[prod_short](includes/prod_short.md)] pueda, en nombre del administrador, crear automáticamente un usuario de la aplicación de integración [!INCLUDE[prod_short](includes/prod_short.md)] no interactivo y sin licencia, asignar roles de seguridad a este usuario e implmentar la solución de integración [!INCLUDE[prod_short](includes/prod_short.md)] a [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8f163-131">**Access [!INCLUDE[cds_long_md](includes/cds_long_md.md)] as you** permission is needed so [!INCLUDE[prod_short](includes/prod_short.md)] can, on behalf of administrator, automatically create non-licensed non-interactive [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user, assign security roles to this user and to deploy [!INCLUDE[prod_short](includes/prod_short.md)] Integration Solution to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span> <span data-ttu-id="8f163-132">Este permiso se usa solo una vez durante la configuración de la conexión a [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8f163-132">This permission is used only once during set up of connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>  
> * <span data-ttu-id="8f163-133">El permiso **Tener acceso completo a Dynamics 365 [!INCLUDE[prod_short](includes/prod_short.md)]** se necesita para que el usuario de la aplicación [!INCLUDE[prod_short](includes/prod_short.md)] Integration creado automáticamente pueda obtener acceso a los datos de [!INCLUDE[prod_short](includes/prod_short.md)] que se sincronizarán.</span><span class="sxs-lookup"><span data-stu-id="8f163-133">**Have full access to Dynamics 365 [!INCLUDE[prod_short](includes/prod_short.md)]** permission is needed so automatically created [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user can access [!INCLUDE[prod_short](includes/prod_short.md)] data that will be synchronized.</span></span>  
> * <span data-ttu-id="8f163-134">El permiso **Iniciar sesión y leer su perfil** se necesita para verificar que el inicio de sesión del usuario realmente tenga asignado el rol de seguridad del administrador del sistema en [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8f163-134">**Sign in and read your profile** permission is needed to verify user logging in actually has System Administrator security role assigned in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>  
>
> <span data-ttu-id="8f163-135">Al dar su consentimiento en nombre de la organización, el administrador da derecho a la aplicación de Azure registrada denominada [!INCLUDE[prod_short](includes/prod_short.md)] Integration a [!INCLUDE[cds_long_md](includes/cds_long_md.md)] para sincronizar datos usando las credenciales de usuario automáticamente creadas de [!INCLUDE[prod_short](includes/prod_short.md)] Integration.</span><span class="sxs-lookup"><span data-stu-id="8f163-135">By giving consent on behalf of organization, the administrator is entitling the registered Azure application called [!INCLUDE[prod_short](includes/prod_short.md)] Integration to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] to synchronize data using automatically created [!INCLUDE[prod_short](includes/prod_short.md)] Integration application user's credentials.</span></span>

### <a name="to-use-the-dataverse-connection-setup-assisted-setup-guide"></a><span data-ttu-id="8f163-136">Para usar la guía de configuración asistida Configuración de conexión de Dataverse</span><span class="sxs-lookup"><span data-stu-id="8f163-136">To use the Dataverse Connection Setup assisted setup guide</span></span>
<span data-ttu-id="8f163-137">La guía de configuración de la conexión de Dataverse puede facilitar la conexión de las aplicaciones e incluso puede ayudarlo a ejecutar una sincronización inicial.</span><span class="sxs-lookup"><span data-stu-id="8f163-137">The Dataverse Connection Setup guide can make it easier to connect the applications, and can even help you run an initial synchronization.</span></span> <span data-ttu-id="8f163-138">Si elige ejecutar la sincronización inicial, [!INCLUDE[prod_short](includes/prod_short.md)] revisará los datos en ambas aplicaciones y brindará recomendaciones sobre cómo abordar la sincronización inicial.</span><span class="sxs-lookup"><span data-stu-id="8f163-138">If you choose to run initial synchronization, [!INCLUDE[prod_short](includes/prod_short.md)] will review the data in both applications and provide recommendations for how to approach initial synchronization.</span></span> <span data-ttu-id="8f163-139">La siguiente tabla describe las recomendaciones.</span><span class="sxs-lookup"><span data-stu-id="8f163-139">The following table describes the recommendations.</span></span>

|<span data-ttu-id="8f163-140">Recomendación</span><span class="sxs-lookup"><span data-stu-id="8f163-140">Recommendation</span></span>  |<span data-ttu-id="8f163-141">Descripción</span><span class="sxs-lookup"><span data-stu-id="8f163-141">Description</span></span>  |
|---------|---------|
|<span data-ttu-id="8f163-142">**Sincronización completa**</span><span class="sxs-lookup"><span data-stu-id="8f163-142">**Full synchronization**</span></span>|<span data-ttu-id="8f163-143">Los datos solo existen en [!INCLUDE[prod_short](includes/prod_short.md)], o solo en [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8f163-143">Data exists only in [!INCLUDE[prod_short](includes/prod_short.md)], or only in [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span> <span data-ttu-id="8f163-144">¿La recomendación es sincronizar todos los datos del servicio que lo tiene con el otro servicio?</span><span class="sxs-lookup"><span data-stu-id="8f163-144">The recommendation is to synchronize all data from the service that has it to the other service.</span></span>|
|<span data-ttu-id="8f163-145">**Sin sincronización**</span><span class="sxs-lookup"><span data-stu-id="8f163-145">**No synchronization**</span></span>|<span data-ttu-id="8f163-146">Los datos existen en ambas aplicaciones y ejecutar una sincronización completa duplicaría los datos.</span><span class="sxs-lookup"><span data-stu-id="8f163-146">Data exists in both applications, and running full synchronization would duplicate the data.</span></span> <span data-ttu-id="8f163-147">La recomendación es acoplar registros.</span><span class="sxs-lookup"><span data-stu-id="8f163-147">The recommendation is to couple records.</span></span>|
|<span data-ttu-id="8f163-148">**Dependencia no satisfecha**</span><span class="sxs-lookup"><span data-stu-id="8f163-148">**Dependency not satisfied**</span></span>|<span data-ttu-id="8f163-149">Los datos existen en ambas aplicaciones, pero la fila o tabla no se puede sincronizar porque depende de una fila o tabla que tiene la recomendación de Sin sincronización.</span><span class="sxs-lookup"><span data-stu-id="8f163-149">Data exists in both applications, but the row or table cannot be synchronized because it depends on a row or table that has the No synchronization recommendation.</span></span> <span data-ttu-id="8f163-150">Por ejemplo, si los clientes no se pueden sincronizar, los datos de los contactos que dependen de los datos del cliente tampoco se pueden sincronizar.</span><span class="sxs-lookup"><span data-stu-id="8f163-150">For example, if customers cannot be synchronized, then data for contacts that depends on the customer data cannot be synchronized either.</span></span>|

> [!IMPORTANT]
> <span data-ttu-id="8f163-151">Normalmente, solo utiliza la sincronización completa cuando integra las aplicaciones por primera vez y solo una aplicación contiene datos.</span><span class="sxs-lookup"><span data-stu-id="8f163-151">Typically, you only use full synchronization when you're integrating the applications for the first time, and only one application contains data.</span></span> <span data-ttu-id="8f163-152">La sincronización completa puede ser útil en un entorno de demostración porque crea y acopla automáticamente registros en cada aplicación, lo que hace que sea más rápido comenzar a trabajar con datos sincronizados.</span><span class="sxs-lookup"><span data-stu-id="8f163-152">Full synchronization can be useful in a demonstration environment because it automatically creates and couples records in each application, which makes it faster to start working with synchronized data.</span></span> <span data-ttu-id="8f163-153">Sin embargo, solo debe ejecutar la sincronización completa si desea una fila en [!INCLUDE[prod_short](includes/prod_short.md)] para cada fila en [!INCLUDE[cds_long_md](includes/cds_long_md.md)] para las asignaciones de tablas.</span><span class="sxs-lookup"><span data-stu-id="8f163-153">However, you should only run full synchronization if you want one row in [!INCLUDE[prod_short](includes/prod_short.md)] for each row in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] for the table mappings.</span></span> <span data-ttu-id="8f163-154">De lo contrario, el resultado puede ser registros duplicados.</span><span class="sxs-lookup"><span data-stu-id="8f163-154">Otherwise, the result can be duplicate records.</span></span>

1. <span data-ttu-id="8f163-155">Elija el icono ![Bombilla que abre la función Dígame](media/ui-search/search_small.png "Dígame qué desea hacer"), escriba **Configuración asistida** y luego elija el vínculo relacionado.</span><span class="sxs-lookup"><span data-stu-id="8f163-155">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Assisted Setup**, and then choose the related link.</span></span>
2. <span data-ttu-id="8f163-156">Elija **Configurar una conexión a Microsoft Dataverse** para iniciar la guía de configuración asistida.</span><span class="sxs-lookup"><span data-stu-id="8f163-156">Choose **Set up a connection to Microsoft Dataverse** to start the assisted setup guide.</span></span>
3. <span data-ttu-id="8f163-157">Rellene los campos según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="8f163-157">Fill in the fields as necessary.</span></span>

> [!NOTE]
> <span data-ttu-id="8f163-158">Si no se le solicita que inicie sesión con su cuenta de administrador, probablemente se deba a que las ventanas emergentes están bloqueadas.</span><span class="sxs-lookup"><span data-stu-id="8f163-158">If you are not prompted to sign in with your administrator account, it is probably because pop-ups are blocked.</span></span> <span data-ttu-id="8f163-159">Para iniciar sesión, permita las ventanas emergentes de `https://login.microsoftonline.com`.</span><span class="sxs-lookup"><span data-stu-id="8f163-159">To sign in, allow pop-ups from `https://login.microsoftonline.com`.</span></span>

### <a name="to-create-or-maintain-the-connection-manually"></a><span data-ttu-id="8f163-160">Para crear o mantener la conexión manualmente</span><span class="sxs-lookup"><span data-stu-id="8f163-160">To create or maintain the connection manually</span></span>

<span data-ttu-id="8f163-161">El procedimiento siguiente describe cómo configurar la conexión manualmente en la página **Configuración de conexión de Dataverse**.</span><span class="sxs-lookup"><span data-stu-id="8f163-161">The following procedure describes how to set up the connection manually on the **Dataverse Connection Setup** page.</span></span> <span data-ttu-id="8f163-162">También es la página donde administra los valores para la integración.</span><span class="sxs-lookup"><span data-stu-id="8f163-162">This is also the page where you manage settings for the integration.</span></span>

1. <span data-ttu-id="8f163-163">Elija el icono ![Bombilla que abre la función Dígame](media/ui-search/search_small.png "Dígame qué desea hacer"), escriba **Configuración de la conexión de Dataverse** y luego elija el enlace relacionado.</span><span class="sxs-lookup"><span data-stu-id="8f163-163">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dataverse Connection Setup**, and then choose the related link.</span></span>
2. <span data-ttu-id="8f163-164">Escriba la siguiente información para la conexión de [!INCLUDE[prod_short](includes/prod_short.md)] a [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8f163-164">Enter the following information for the connection from [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span></span>

    |<span data-ttu-id="8f163-165">Campo</span><span class="sxs-lookup"><span data-stu-id="8f163-165">Field</span></span>|<span data-ttu-id="8f163-166">Descripción</span><span class="sxs-lookup"><span data-stu-id="8f163-166">Description</span></span>|
    |-----|-----|
    |<span data-ttu-id="8f163-167">**URL de entorno**</span><span class="sxs-lookup"><span data-stu-id="8f163-167">**Environment URL**</span></span>|<span data-ttu-id="8f163-168">Si posee entornos en [!INCLUDE[cds_long_md](includes/cds_long_md.md)], los encontraremos cuando ejecute la guía de configuración.</span><span class="sxs-lookup"><span data-stu-id="8f163-168">If you own environments in [!INCLUDE[cds_long_md](includes/cds_long_md.md)], we will find those for you when you run the setup guide.</span></span> <span data-ttu-id="8f163-169">Si desea conectarse a un entorno diferente en otro suscriptor, puede introducir las credenciales de administrador del entorno y lo descubriremos.</span><span class="sxs-lookup"><span data-stu-id="8f163-169">If you want to connect to a different environment in another tenant, you can enter the administrator credentials for the environment and we will discover those.</span></span> |
    |<span data-ttu-id="8f163-170">**Habilitado**</span><span class="sxs-lookup"><span data-stu-id="8f163-170">**Enabled**</span></span>|<span data-ttu-id="8f163-171">Comience a usar la integración.</span><span class="sxs-lookup"><span data-stu-id="8f163-171">Start using the integration.</span></span> <span data-ttu-id="8f163-172">Si no activa la conexión ahora, la configuración de la conexión se guardará pero los usuarios no podrán tener acceso a los datos de [!INCLUDE[cds_long_md](includes/cds_long_md.md)] desde [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="8f163-172">If you do not enable the connection now, the connection settings will be saved but users will not be able to access [!INCLUDE[cds_long_md](includes/cds_long_md.md)] data from [!INCLUDE[prod_short](includes/prod_short.md)].</span></span> <span data-ttu-id="8f163-173">Puede volver a esta página y activar la conexión más adelante.</span><span class="sxs-lookup"><span data-stu-id="8f163-173">You can return to this page and enable the connection later.</span></span>  |

3. <span data-ttu-id="8f163-174">En el campo **Modelo de propiedad**, elija si desea una tabla de equipo en [!INCLUDE[cds_long_md](includes/cds_long_md.md)] para poseer nuevos registros o uno o más usuarios específicos.</span><span class="sxs-lookup"><span data-stu-id="8f163-174">In the **Ownership Model** field, choose whether you want a team table in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] to own new records, or one or more specific users.</span></span> <span data-ttu-id="8f163-175">Si elige **Persona**, debe especificar cada usuario.</span><span class="sxs-lookup"><span data-stu-id="8f163-175">If you choose **Person**, you must specify each user.</span></span> <span data-ttu-id="8f163-176">Si elige **Equipo**, la unidad de negocio predeterminada se mostrará en el campo **Unidad de negocios emparejada**.</span><span class="sxs-lookup"><span data-stu-id="8f163-176">If you choose **Team**, the default business unit will display in the **Coupled Business Unit** field.</span></span>

    <!--Need to verify the details in this table, are these specific to Sales maybe?  IK: No they are not and no longer relevant 
    Enter the following advanced settings.-->

    <!-- |Field|Description|
    |-----|-----|
    |**[!INCLUDE[prod_short](includes/prod_short.md)] Users Must Map to CDS Users**|If you are using the Person ownership model, specify whether [!INCLUDE[prod_short](includes/prod_short.md)] user accounts must have a matching user accounts in [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. The **Microsoft 365 Authentication Email** of the [!INCLUDE[prod_short](includes/prod_short.md)] user must be the same as the **Primary Email** of the [!INCLUDE[crm_md](includes/crm_md.md)] user.<br /><br /> If you set the value to **Yes**, [!INCLUDE[prod_short](includes/prod_short.md)] users who do not have a matching [!INCLUDE[crm_md](includes/crm_md.md)] user account will not have [!INCLUDE[prod_short](includes/prod_short.md)] integration capabilities in the user interface. Access to [!INCLUDE[crm_md](includes/crm_md.md)] data directly from [!INCLUDE[prod_short](includes/prod_short.md)] is done on behalf of the [!INCLUDE[crm_md](includes/crm_md.md)] user account.<br /><br /> If you set the value to **No**, all [!INCLUDE[prod_short](includes/prod_short.md)] users will have [!INCLUDE[crm_md](includes/crm_md.md)] integration capabilities in the user interface. Access to [!INCLUDE[crm_md](includes/crm_md.md)] data is done on behalf of the [!INCLUDE[crm_md](includes/crm_md.md)] connection (integration) user.|
    |**Current Business Central Salesperson is Mapped to a User**|Indicates whether your user account is mapped to an account in [!INCLUDE[crm_md](includes/crm_md.md)] double check the name of this field-->|
4. <span data-ttu-id="8f163-177">Para probar la configuración de conexión, elija **Conexión** y luego **Probar conexión**.</span><span class="sxs-lookup"><span data-stu-id="8f163-177">To test the connection settings, choose **Connection**, and then **Test Connection**.</span></span>  

    > [!NOTE]  
    > <span data-ttu-id="8f163-178">Si el cifrado de datos no se ha habilitado en [!INCLUDE[prod_short](includes/prod_short.md)], se le preguntará si desea habilitarlo.</span><span class="sxs-lookup"><span data-stu-id="8f163-178">If data encryption is not enabled in [!INCLUDE[prod_short](includes/prod_short.md)], you will be asked whether you want to enable it.</span></span> <span data-ttu-id="8f163-179">Si desea habilitar el cifrado de datos, seleccione **Sí** y proporcione la información necesaria.</span><span class="sxs-lookup"><span data-stu-id="8f163-179">To enable data encryption, choose **Yes** and provide the required information.</span></span> <span data-ttu-id="8f163-180">Si no, elija **No**.</span><span class="sxs-lookup"><span data-stu-id="8f163-180">Otherwise, choose **No**.</span></span> <span data-ttu-id="8f163-181">Puede habilitar el cifrado de datos más adelante.</span><span class="sxs-lookup"><span data-stu-id="8f163-181">You can enable data encryption later.</span></span> <span data-ttu-id="8f163-182">Para obtener más información, consulte [Cifrado de datos en Dynamics 365 Business Central](/dynamics365/business-central/dev-itpro/developer/devenv-encrypting-data) en la ayuda para desarrolladores y administradores.</span><span class="sxs-lookup"><span data-stu-id="8f163-182">For more information, see [Encrypting Data in Dynamics 365 Business Central](/dynamics365/business-central/dev-itpro/developer/devenv-encrypting-data) in the developer and administration help.</span></span>  
5. <span data-ttu-id="8f163-183">Si aún no está configurada la sincronización de [!INCLUDE[cds_long_md](includes/cds_long_md.md)], se le preguntará si desea utilizar la configuración de sincronización predeterminada.</span><span class="sxs-lookup"><span data-stu-id="8f163-183">If [!INCLUDE[cds_long_md](includes/cds_long_md.md)] synchronization is not already set up, you will be asked whether you want to use the default synchronization setup.</span></span> <span data-ttu-id="8f163-184">Dependiendo de si desea mantener los registros alineados en [!INCLUDE[cds_long_md](includes/cds_long_md.md)] y [!INCLUDE[prod_short](includes/prod_short.md)], elija **Sí** o **No**.</span><span class="sxs-lookup"><span data-stu-id="8f163-184">Depending on whether you want to keep records aligned in [!INCLUDE[cds_long_md](includes/cds_long_md.md)] and [!INCLUDE[prod_short](includes/prod_short.md)], choose **Yes** or **No**.</span></span>

<!--
## Show Me the Process

The following video shows the steps to connect [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[cds_long_md](includes/cds_long_md.md)]. <br>
  
> [!VIDEO https://www.microsoft.com/en-us/videoplayer/embed/RE4ArlP]

-->

## <a name="connecting-on-premises-versions"></a><span data-ttu-id="8f163-185">Conexión a las versiones locales</span><span class="sxs-lookup"><span data-stu-id="8f163-185">Connecting On-Premises Versions</span></span>

<span data-ttu-id="8f163-186">Para conectar [!INCLUDE[prod_short](includes/prod_short.md)] local a [!INCLUDE[cds_long_md](includes/cds_long_md.md)], debe especificar alguna información en la página **Configuración de la conexión de Dataverse**.</span><span class="sxs-lookup"><span data-stu-id="8f163-186">To connect [!INCLUDE[prod_short](includes/prod_short.md)] on-premises to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], you must specify some information on the **Dataverse Connection Setup** page.</span></span>

<span data-ttu-id="8f163-187">Si quiere conectarte usando una cuenta de Azure Active Directory (Azure AD), debe registrar una solicitud en Azure AD, y proporcionar el identificador de la aplicación, el secreto de Key Vault y redirigir a la URL que se va a utilizar.</span><span class="sxs-lookup"><span data-stu-id="8f163-187">If you want to connect using an Azure Active Directory (Azure AD) account, you must register an application in Azure AD, and provide the application ID, key vault secret, and the redirect URL to use.</span></span> <span data-ttu-id="8f163-188">La URL de redireccionamiento se rellena previamente y debería funcionar para la mayoría de las instalaciones.</span><span class="sxs-lookup"><span data-stu-id="8f163-188">The redirect URL is pre-populated and should work for most installations.</span></span> <span data-ttu-id="8f163-189">Debe configurar su instalación para usar HTTPS.</span><span class="sxs-lookup"><span data-stu-id="8f163-189">You must set up your installation to use HTTPS.</span></span> <span data-ttu-id="8f163-190">Para más información, vea [Configuración SSL para proteger la conexión del cliente web de Business Central](/dynamics365/business-central/dev-itpro/deployment/configure-ssl-web-client-connection).</span><span class="sxs-lookup"><span data-stu-id="8f163-190">For more information, see [Configuring SSL to Secure the Business Central Web Client Connection](/dynamics365/business-central/dev-itpro/deployment/configure-ssl-web-client-connection).</span></span> <span data-ttu-id="8f163-191">Si está configurando su servidor para tener una página de inicio diferente, siempre puede cambiar la dirección URL.</span><span class="sxs-lookup"><span data-stu-id="8f163-191">If you are setting up your server to have a different home page, you can always change the URL.</span></span> <span data-ttu-id="8f163-192">El secreto del cliente se guardará como una cadena encriptada en su base de datos.</span><span class="sxs-lookup"><span data-stu-id="8f163-192">The client secret will be saved as an encrypted string in your database.</span></span> 

### <a name="prerequisites"></a><span data-ttu-id="8f163-193">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="8f163-193">Prerequisites</span></span>

<span data-ttu-id="8f163-194">Dataverse debe usar uno de los siguientes tipos de autenticación:</span><span class="sxs-lookup"><span data-stu-id="8f163-194">Dataverse must use one of the following authentication types:</span></span>

* <span data-ttu-id="8f163-195">Office365 (heredado)</span><span class="sxs-lookup"><span data-stu-id="8f163-195">Office365 (legacy)</span></span>

  > [!IMPORTANT]
  > <span data-ttu-id="8f163-196">A partir de abril de 2022, Office365 (heredado) ya no será compatible.</span><span class="sxs-lookup"><span data-stu-id="8f163-196">Effective April 2022, Office365 (legacy) will no longer be supported.</span></span> <span data-ttu-id="8f163-197">Para obtener más información, consulte [Próximos cambios importantes (ceses de uso) en Power Apps, Power Automate y aplicaciones de interacción con el cliente](/power-platform/important-changes-coming#deprecation-of-office365-authentication-type-and-organizationserviceproxy-class-for-connecting-to-dataverse).</span><span class="sxs-lookup"><span data-stu-id="8f163-197">For more information, see [Important changes (deprecations) coming in Power Apps, Power Automate and customer engagement apps](/power-platform/important-changes-coming#deprecation-of-office365-authentication-type-and-organizationserviceproxy-class-for-connecting-to-dataverse).</span></span>
* <span data-ttu-id="8f163-198">Office365 (moderno, basado en secreto de cliente OAuth2)</span><span class="sxs-lookup"><span data-stu-id="8f163-198">Office365 (modern, OAuth2 client secret based)</span></span>
* <span data-ttu-id="8f163-199">OAuth</span><span class="sxs-lookup"><span data-stu-id="8f163-199">OAuth</span></span>

### <a name="to-register-an-application-in-azure-ad-for-connecting-from-business-central-to-dataverse"></a><span data-ttu-id="8f163-200">Para registrar una solicitud en Azure AD para conectarse desde Business Central a Dataverse</span><span class="sxs-lookup"><span data-stu-id="8f163-200">To register an application in Azure AD for connecting from Business Central to Dataverse</span></span>

<span data-ttu-id="8f163-201">Se parte de la base que para los siguientes pasos está usando Azure AD para gestionar identidades y accesos.</span><span class="sxs-lookup"><span data-stu-id="8f163-201">The following steps assume that you use Azure AD to manage identities and access.</span></span> <span data-ttu-id="8f163-202">Para obtener más información sobre cómo registrar una aplicación en Azure AD, vea [Inicio rápido: Registrar una aplicación con la plataforma de identidad de Microsoft](/azure/active-directory/develop/quickstart-register-app).</span><span class="sxs-lookup"><span data-stu-id="8f163-202">For more information about registering an application in Azure AD, see [Quickstart: Register an application with the Microsoft identity platform](/azure/active-directory/develop/quickstart-register-app).</span></span> <span data-ttu-id="8f163-203">Si no usa Azure AD, vea [Usar otro servicio de administración de identidades y accesos](admin-how-to-set-up-a-dynamics-crm-connection.md#using-another-identity-and-access-management-service).</span><span class="sxs-lookup"><span data-stu-id="8f163-203">If you do not use Azure AD, see [Using Another Identity and Access Management Service](admin-how-to-set-up-a-dynamics-crm-connection.md#using-another-identity-and-access-management-service).</span></span>  

1. <span data-ttu-id="8f163-204">En el Portal de Azure, en **Administrar** en el oanel de navegación, elija **Autenticación**.</span><span class="sxs-lookup"><span data-stu-id="8f163-204">In the Azure Portal, under **Manage** on the Navigation Pane, choose **Authentication**.</span></span>  
2. <span data-ttu-id="8f163-205">En **Redirigir URL**, agregue la URL de redireccionamiento que se sugiere en la página **Configuración de la conexión de Dataverse** en [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="8f163-205">Under **Redirect URLs**, add the redirect URL that is suggested on the **Dataverse Connection Setup** page in [!INCLUDE[prod_short](includes/prod_short.md)].</span></span>
3. <span data-ttu-id="8f163-206">En **Administrar**, elija **Permisos de API**.</span><span class="sxs-lookup"><span data-stu-id="8f163-206">Under **Manage**, choose **API permissions**.</span></span>
4. <span data-ttu-id="8f163-207">En **Permisos configurados**, elija **Agregar un permiso**, y luego agregue permisos delegados en la pestaña **API de Microsoft** de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="8f163-207">Under **Configured permissions**, choose **Add a permission**, and then add delegated permissions on the **Microsoft APIs** tab as follows:</span></span>
    * <span data-ttu-id="8f163-208">Para Business Central, agregue el permiso **Financials.ReadWrite.All**.</span><span class="sxs-lookup"><span data-stu-id="8f163-208">For Business Central, add the **Financials.ReadWrite.All** permissions.</span></span>
    * <span data-ttu-id="8f163-209">Para Dynamics CRM, agregue el permiso **person_impersonation**.</span><span class="sxs-lookup"><span data-stu-id="8f163-209">For Dynamics CRM, add the **user_impersonation** permissions.</span></span>  

    > [!NOTE]
    > <span data-ttu-id="8f163-210">El nombre de la API de Dynamics CRM puede cambiar.</span><span class="sxs-lookup"><span data-stu-id="8f163-210">The name of the Dynamics CRM API might change.</span></span>

5. <span data-ttu-id="8f163-211">En **Administrar**, elija **Certificados y secretos** y, luego, cree un nuevo secreto para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="8f163-211">Under **Manage**, choose **Certificates & Secrets**, and then create a new secret for your app.</span></span> <span data-ttu-id="8f163-212">Usará el secreto en [!INCLUDE[prod_short](includes/prod_short.md)], en el campo **Secreto del cliente** en la página **Configuración de la conexión Dataverse** o lo almacenará en un almacenamiento seguro y lo proporcionará en un suscriptor de eventos como se describe anteriormente en este tema.</span><span class="sxs-lookup"><span data-stu-id="8f163-212">You will use the secret either in [!INCLUDE[prod_short](includes/prod_short.md)], in the **Client Secret** field on the **Dataverse Connection Setup** page, or store in a secure storage and provide it in an event subscriber as described earlier in this topic.</span></span>
6. <span data-ttu-id="8f163-213">Elija **Panorama** y luego encuentre el valor **Id. de la aplicación (cliente)**.</span><span class="sxs-lookup"><span data-stu-id="8f163-213">Choose **Overview**, and then find the **Application (client) ID** value.</span></span> <span data-ttu-id="8f163-214">Este es el identificador de cliente de su aplicación.</span><span class="sxs-lookup"><span data-stu-id="8f163-214">This is the Client ID of your application.</span></span> <span data-ttu-id="8f163-215">Debe especificarlo en la página **Configuración de la conexión de Dataverse** en el campo **Id. del cliente** o almacenarlo en un almacenamiento seguro y proporcionarlo en un suscriptor de eventos.</span><span class="sxs-lookup"><span data-stu-id="8f163-215">You must enter it either on the **Dataverse Connection Setup** page in the **Client ID** field, or store it in a secure storage and provide it in an event subscriber.</span></span>
7. <span data-ttu-id="8f163-216">En [!INCLUDE[prod_short](includes/prod_short.md)], en la página **Configuración de la conexión de Dataverse**, en el campo **URL del entorno**, especifique la URL para su entorno de [!INCLUDE[cds_long_md](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="8f163-216">In [!INCLUDE[prod_short](includes/prod_short.md)], on the **Dataverse Connection Setup** page, in the **Environment URL** field, enter the URL for your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment.</span></span>
8. <span data-ttu-id="8f163-217">Para habilitar la conexión a [!INCLUDE[cds_long_md](includes/cds_long_md.md)], active el control de alternancia a **Habilitada**.</span><span class="sxs-lookup"><span data-stu-id="8f163-217">To enable the connection to [!INCLUDE[cds_long_md](includes/cds_long_md.md)], turn on the **Enabled** toggle.</span></span>
9. <span data-ttu-id="8f163-218">Inicie sesión con su cuenta de administrador para Azure Active Directory (esta cuenta debe tener una licencia válida para [!INCLUDE[cds_long_md](includes/cds_long_md.md)] y ser administrador en su entorno de [!INCLUDE[cds_long_md](includes/cds_long_md.md)]).</span><span class="sxs-lookup"><span data-stu-id="8f163-218">Sign in with your administrator account for Azure Active Directory (this account must have a valid license for [!INCLUDE[cds_long_md](includes/cds_long_md.md)] and be an administrator in your [!INCLUDE[cds_long_md](includes/cds_long_md.md)] environment).</span></span> <span data-ttu-id="8f163-219">Después de iniciar sesión, se le pedirá que permita que su aplicación registrada inicie sesión en [!INCLUDE[cds_long_md](includes/cds_long_md.md)] en nombre de la organización.</span><span class="sxs-lookup"><span data-stu-id="8f163-219">After you sign in you will be prompted to allow your registered application to sign in to [!INCLUDE[cds_long_md](includes/cds_long_md.md)] on behalf of the organization.</span></span> <span data-ttu-id="8f163-220">Debe dar su consentimiento para completar la configuración.</span><span class="sxs-lookup"><span data-stu-id="8f163-220">You must give consent to complete the setup.</span></span>

   > [!NOTE]
   > <span data-ttu-id="8f163-221">Si no se le solicita que inicie sesión con su cuenta de administrador, probablemente se deba a que las ventanas emergentes están bloqueadas.</span><span class="sxs-lookup"><span data-stu-id="8f163-221">If you are not prompted to sign in with your administrator account, it is probably because pop ups are blocked.</span></span> <span data-ttu-id="8f163-222">Para iniciar sesión, permita las ventanas emergentes de `https://login.microsoftonline.com`.</span><span class="sxs-lookup"><span data-stu-id="8f163-222">To sign in, allow pop-ups from `https://login.microsoftonline.com`.</span></span>

#### <a name="using-another-identity-and-access-management-service"></a><span data-ttu-id="8f163-223">Usar otro servicio de administración de identidades y accesos</span><span class="sxs-lookup"><span data-stu-id="8f163-223">Using Another Identity and Access Management Service</span></span>

<span data-ttu-id="8f163-224">Si no estas usando Azure Active Directory para administrar las identidades y el acceso, necesitará ayuda de un desarrollador.</span><span class="sxs-lookup"><span data-stu-id="8f163-224">If you are not using Azure Active Directory to manage identities and access, you will need some help from a developer.</span></span> <span data-ttu-id="8f163-225">Si prefiere almacenar el identificador y el secreto de la aplicación en una ubicación diferente, puede dejar en blanco los campos Id . del cliente y Secreto del cliente y escribir una extensión para obtener el identificador y el secreto de la ubicación.</span><span class="sxs-lookup"><span data-stu-id="8f163-225">If you prefer to store the app ID and secret in a different location, you can leave the Client ID and Client Secret fields blank and write an extension to fetch the ID and secret from the location.</span></span> <span data-ttu-id="8f163-226">Puede proporcionar el secreto en tiempo de ejecución suscribiéndose a los eventos `OnGetCDSConnectionClientId` y `OnGetCDSConnectionClientSecret` de codeunit 7201 `CDS Integration Impl.`.</span><span class="sxs-lookup"><span data-stu-id="8f163-226">You can provide the secret at runtime by subscribing to the `OnGetCDSConnectionClientId` and `OnGetCDSConnectionClientSecret` events in codeunit 7201 `CDS Integration Impl.`.</span></span>

### <a name="to-disconnect-from-cds_long_md"></a><span data-ttu-id="8f163-227">Para desconectar de [!INCLUDE[cds_long_md](includes/cds_long_md.md)]</span><span class="sxs-lookup"><span data-stu-id="8f163-227">To disconnect from [!INCLUDE[cds_long_md](includes/cds_long_md.md)]</span></span>

1. <span data-ttu-id="8f163-228">Elija el icono ![Bombilla que abre la función Dígame](media/ui-search/search_small.png "Dígame qué desea hacer"), escriba **Configuración de la conexión de Dataverse** y luego elija el enlace relacionado.</span><span class="sxs-lookup"><span data-stu-id="8f163-228">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Dataverse Connection Setup**, and then choose the related link.</span></span>
2. <span data-ttu-id="8f163-229">En la página **Configuración de conexión de Dataverse**, desactive **Habilitado**.</span><span class="sxs-lookup"><span data-stu-id="8f163-229">On the **Dataverse Connection Setup** page, turn off the **Enabled** toggle.</span></span>  

## <a name="see-also"></a><span data-ttu-id="8f163-230">Consulte también</span><span class="sxs-lookup"><span data-stu-id="8f163-230">See Also</span></span>

[<span data-ttu-id="8f163-231">Ver el estado de una sincronización</span><span class="sxs-lookup"><span data-stu-id="8f163-231">View the Status of a Synchronization</span></span>](admin-how-to-view-synchronization-status.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]