---
title: Programar proyectos para que se ejecuten automáticamente
description: Las tareas programadas son administradas por la cola de proyecto. Estos proyectos ejecutan informes y codeunits. Puede configurar proyectos para que se ejecuten una vez o de manera periódica.
author: edupont04
ms.service: dynamics365-business-central
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 01/12/2021
ms.author: edupont
ms.openlocfilehash: 29b5b3f633b0fd9fcac648f0bf7149b87ae0b20d
ms.sourcegitcommit: 311e86d6abb9b59a5483324d8bb4cd1be7949248
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 01/15/2021
ms.locfileid: "5013951"
---
# <a name="use-job-queues-to-schedule-tasks"></a><span data-ttu-id="4cf10-105">Uso de colas de proyectos para programar tareas</span><span class="sxs-lookup"><span data-stu-id="4cf10-105">Use Job Queues to Schedule Tasks</span></span>

<span data-ttu-id="4cf10-106">Las colas de proyectos de [!INCLUDE[prod_short](includes/prod_short.md)] permiten a los usuarios programar y ejecutar informes y codeunits específicos.</span><span class="sxs-lookup"><span data-stu-id="4cf10-106">Job queues in [!INCLUDE[prod_short](includes/prod_short.md)] enable users to schedule and run specific reports and codeunits.</span></span> <span data-ttu-id="4cf10-107">Puede configurar proyectos para que se ejecuten una vez o de manera periódica.</span><span class="sxs-lookup"><span data-stu-id="4cf10-107">You can set jobs to run one time, or on a recurring basis.</span></span> <span data-ttu-id="4cf10-108">Por ejemplo, es posible que desee ejecutar el informe **Vendedor \* Estadísticas de ventas** semanalmente, para realizar un seguimiento de las ventas por vendedor cada semana, o puede que desee ejecutar la codeunit **Solicitudes de aprobación de delegados** diariamente, para evitar que los documentos se acumulen o bloqueen el flujo de trabajo.</span><span class="sxs-lookup"><span data-stu-id="4cf10-108">For example, you might want to run the **Salesperson \* Sales Statistics** report weekly, to track sales by salesperson each week, or you might want to run the **Delegate Approval Requests** codeunit daily, to prevent documents from piling up or otherwise block the workflow.</span></span>

<span data-ttu-id="4cf10-109">La página **Entradas de cola de proyectos** enumera todos los proyectos existentes.</span><span class="sxs-lookup"><span data-stu-id="4cf10-109">The **Job Queue Entries** page lists all existing jobs.</span></span> <span data-ttu-id="4cf10-110">Si agrega una nueva entrada de cola de proyectos que desee programar, debe especificar información acerca del tipo de objeto que desea ejecutar, por ejemplo, informe o codeunit y nombre y el identificador del objeto que desee ejecutar.</span><span class="sxs-lookup"><span data-stu-id="4cf10-110">If you add a new job queue entry that you want to schedule, you must specify information about the type of object you want to run, such as a report or codeunit, and the name and object ID of the object that you want to run.</span></span> <span data-ttu-id="4cf10-111">También puede agregar parámetros para especificar el comportamiento del movimiento de cola de proyectos.</span><span class="sxs-lookup"><span data-stu-id="4cf10-111">You can also add parameters to specify the behavior of the job queue entry.</span></span> <span data-ttu-id="4cf10-112">Por ejemplo, puede agregar un parámetro para enviar solo pedidos de venta registrados.</span><span class="sxs-lookup"><span data-stu-id="4cf10-112">For example, you can add a parameter to only send posted sales orders.</span></span> <span data-ttu-id="4cf10-113">Debe disponer de los permisos adecuados para ejecutar el informe o la codeunit en particular; de lo contrario, se devolverá un error al ejecutarse la cola de proyectos.</span><span class="sxs-lookup"><span data-stu-id="4cf10-113">You must have permission to run the particular report or codeunit, or an error will be returned when the job queue is run.</span></span>  
> [!IMPORTANT]  
> <span data-ttu-id="4cf10-114">Si utiliza el conjunto de permisos SUPER que se suministran con [!INCLUDE[prod_short](includes/prod_short.md)], usted y sus usuarios tienen permisos para ejecutar todos los objetos dentro de la licencia.</span><span class="sxs-lookup"><span data-stu-id="4cf10-114">If you use the SUPER permissions set that comes with [!INCLUDE[prod_short](includes/prod_short.md)], you and your users have permissions to run all objects within the license.</span></span> <span data-ttu-id="4cf10-115">Eso todavía no es suficiente para el administrador delegado o los usuarios con licencia de dispositivo, que no pueden crear entradas para la cola de trabajos.</span><span class="sxs-lookup"><span data-stu-id="4cf10-115">That is still not enough for Delegated Admin or users with Device license, who cannot create job queue entires.</span></span>

<span data-ttu-id="4cf10-116">Una cola de proyectos puede tener muchos movimientos, que son proyectos que la cola controla y ejecuta.</span><span class="sxs-lookup"><span data-stu-id="4cf10-116">A job queue can have many entries, which are the jobs that the queue manages and runs.</span></span> <span data-ttu-id="4cf10-117">La información del movimiento especifica qué codeunit o informe se ejecuta, cuándo y con qué frecuencia se ejecuta el movimiento, en qué categoría se ejecuta el proyecto y cómo se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="4cf10-117">Information in the entry specifies what codeunit or report is run, when and how often the entry is run, in what category the job runs, and how it runs.</span></span>  

<span data-ttu-id="4cf10-118">Después de configurar y ejecutar las colas de proyectos, el estado puede cambiar de la siguiente manera en cada período recurrente:</span><span class="sxs-lookup"><span data-stu-id="4cf10-118">After job queues are set up and running, the status can change as follows within each recurring period:</span></span>

* <span data-ttu-id="4cf10-119">**Esperar**</span><span class="sxs-lookup"><span data-stu-id="4cf10-119">**On Hold**</span></span>  
* <span data-ttu-id="4cf10-120">**Preparado**</span><span class="sxs-lookup"><span data-stu-id="4cf10-120">**Ready**</span></span>  
* <span data-ttu-id="4cf10-121">**En proceso**</span><span class="sxs-lookup"><span data-stu-id="4cf10-121">**In Process**</span></span>  
* <span data-ttu-id="4cf10-122">**Error**</span><span class="sxs-lookup"><span data-stu-id="4cf10-122">**Error**</span></span>  
* <span data-ttu-id="4cf10-123">**Terminada**</span><span class="sxs-lookup"><span data-stu-id="4cf10-123">**Finished**</span></span>  

<span data-ttu-id="4cf10-124">Después de que un proyecto haya finalizado correctamente, se elimina de la lista de movimientos de la cola de proyectos a menos que sea un proyecto periódico.</span><span class="sxs-lookup"><span data-stu-id="4cf10-124">After a job has finished successfully, it is removed from the list of job queue entries unless it is a recurring job.</span></span> <span data-ttu-id="4cf10-125">Si es un proyecto periódico, el campo **Hora inicial más próxima** se ajusta para mostrar la próxima vez que se espera que el proyecto se ejecute.</span><span class="sxs-lookup"><span data-stu-id="4cf10-125">If it is a recurring job, the **Earliest Start Time** field is adjusted to show the next time that the job is expected to run.</span></span>  

## <a name="to-view-status-or-errors-in-the-job-queue"></a><span data-ttu-id="4cf10-126">Para ver el estado o los errores en la cola de proyectos</span><span class="sxs-lookup"><span data-stu-id="4cf10-126">To view status or errors in the job queue</span></span>

<span data-ttu-id="4cf10-127">Los datos que se generan cuando se ejecuta una cola de proyectos se almacenan en la base de datos, para que pueda solucionar los errores de la cola de proyectos.</span><span class="sxs-lookup"><span data-stu-id="4cf10-127">Data that is generated when a job queue is run is stored in the database, so that you can troubleshoot job queue errors.</span></span>  
<span data-ttu-id="4cf10-128">Para cada entrada de la cola de trabajos, puede ver y cambiar el estado.</span><span class="sxs-lookup"><span data-stu-id="4cf10-128">For each job queue entry, you can view and change the status.</span></span> <span data-ttu-id="4cf10-129">Cuando se crea un movimiento de cola de proyectos, su estado se define en **Esperar**.</span><span class="sxs-lookup"><span data-stu-id="4cf10-129">When you create a job queue entry, its status is set to **On Hold**.</span></span> <span data-ttu-id="4cf10-130">Puede definir el estado a **Preparado** y de nuevo a **Esperar**, por ejemplo.</span><span class="sxs-lookup"><span data-stu-id="4cf10-130">You can set the status to **Ready** and back to **On Hold**, for example.</span></span> <span data-ttu-id="4cf10-131">Si no, la información del estado se actualiza automáticamente.</span><span class="sxs-lookup"><span data-stu-id="4cf10-131">Otherwise, status information is updated automatically.</span></span>

<span data-ttu-id="4cf10-132">La siguiente tabla describe los valores del campo **Estado**.</span><span class="sxs-lookup"><span data-stu-id="4cf10-132">The following table describes the values of the **Status** field.</span></span>

| <span data-ttu-id="4cf10-133">Estado</span><span class="sxs-lookup"><span data-stu-id="4cf10-133">Status</span></span> | <span data-ttu-id="4cf10-134">Descripción</span><span class="sxs-lookup"><span data-stu-id="4cf10-134">Description</span></span> |
|--|--|
| <span data-ttu-id="4cf10-135">Preparado</span><span class="sxs-lookup"><span data-stu-id="4cf10-135">Ready</span></span> | <span data-ttu-id="4cf10-136">Indica que el movimiento de la cola de proyectos está listo para ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="4cf10-136">Indicates that the job queue entry is ready to be run.</span></span> |
| <span data-ttu-id="4cf10-137">En proceso</span><span class="sxs-lookup"><span data-stu-id="4cf10-137">In Process</span></span> | <span data-ttu-id="4cf10-138">Indica que el movimiento de la cola de proyectos está en proceso.</span><span class="sxs-lookup"><span data-stu-id="4cf10-138">Indicates that the job queue entry is in process.</span></span> <span data-ttu-id="4cf10-139">Este campo se actualiza mientras la cola de proyectos se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="4cf10-139">This field is updated while the job queue is running.</span></span> |
| <span data-ttu-id="4cf10-140">Esperar</span><span class="sxs-lookup"><span data-stu-id="4cf10-140">On Hold</span></span> | <span data-ttu-id="4cf10-141">Predeterminado.</span><span class="sxs-lookup"><span data-stu-id="4cf10-141">Default.</span></span> <span data-ttu-id="4cf10-142">Indica el estado del movimiento de cola de proyectos cuando se crea.</span><span class="sxs-lookup"><span data-stu-id="4cf10-142">Indicates the status of the job queue entry when it is created.</span></span> <span data-ttu-id="4cf10-143">Elija la acción **Establecer estado en Preparado** para cambiar el estado a **Preparado**.</span><span class="sxs-lookup"><span data-stu-id="4cf10-143">Choose the **Set Status to Ready** action to change the status to **Ready**.</span></span> <span data-ttu-id="4cf10-144">Elija las acciones **Establecer en espera** o **Suspender** para cambiar el estado de nuevo a **Esperar**.</span><span class="sxs-lookup"><span data-stu-id="4cf10-144">Choose the **Set On Hold** or **Suspend** actions to change the status back to **On Hold**.</span></span> |
| <span data-ttu-id="4cf10-145">Error</span><span class="sxs-lookup"><span data-stu-id="4cf10-145">Error</span></span> | <span data-ttu-id="4cf10-146">Indica que hay un error.</span><span class="sxs-lookup"><span data-stu-id="4cf10-146">Indicates that there is an error.</span></span> <span data-ttu-id="4cf10-147">Elija **Mostrar mensaje de error** para ver el mensaje de error.</span><span class="sxs-lookup"><span data-stu-id="4cf10-147">Choose **Show Error** to see the error message.</span></span> |
| <span data-ttu-id="4cf10-148">Terminada</span><span class="sxs-lookup"><span data-stu-id="4cf10-148">Finished</span></span> | <span data-ttu-id="4cf10-149">Indica que el movimiento de la cola de proyectos se ha terminado.</span><span class="sxs-lookup"><span data-stu-id="4cf10-149">Indicates that the job queue entry is complete.</span></span> |

### <a name="to-view-status-for-any-job"></a><span data-ttu-id="4cf10-150">Para ver el estado de un proyecto</span><span class="sxs-lookup"><span data-stu-id="4cf10-150">To view status for any job</span></span>
1. <span data-ttu-id="4cf10-151">Elija el icono ![Bombilla que abre la función Dígame](media/ui-search/search_small.png "Dígame qué desea hacer"), escriba **Movs. cola proyecto** y luego elija el enlace relacionado.</span><span class="sxs-lookup"><span data-stu-id="4cf10-151">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Job Queue Entries**, and then choose the related link.</span></span>
2. <span data-ttu-id="4cf10-152">En la página **Movs. cola proyectos**, seleccione un movimiento de la cola de proyectos y luego elija la acción **Registrar movs**.</span><span class="sxs-lookup"><span data-stu-id="4cf10-152">On the **Job Queue Entries** page, select a job queue entry, and then choose the **Log Entries** action.</span></span>  

> [!TIP]
> <span data-ttu-id="4cf10-153">Con [!INCLUDE [prod_short](includes/prod_short.md)] en línea, también puede ver el estado de las entradas de la cola de trabajos utilizando Application Insights en Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="4cf10-153">With [!INCLUDE [prod_short](includes/prod_short.md)] online, you can also view the status of job queue entries by using Application Insights in Microsoft Azure.</span></span> <span data-ttu-id="4cf10-154">Para más información, ver [Análisis de la telemetría de seguimiento del ciclo de vida de la cola de trabajos](/dynamics365smb-devitpro\dev-itpro\administration\telemetry-job-queue-lifecycle-trace) en la Ayuda para desarrolladores y profesionales de TI de [!INCLUDE [prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="4cf10-154">For more information, see [Analyzing Job Queue Lifecycle Trace Telemetry](/dynamics365smb-devitpro\dev-itpro\administration\telemetry-job-queue-lifecycle-trace) in the [!INCLUDE [prod_short](includes/prod_short.md)] Developer and IT Pro help.</span></span>

## <a name="the-my-job-queue-part"></a><span data-ttu-id="4cf10-155">El apartado de Mi cola proyecto</span><span class="sxs-lookup"><span data-stu-id="4cf10-155">The My Job Queue Part</span></span>
<span data-ttu-id="4cf10-156">El apartado **Mi cola proyecto** del Área de trabajo muestra los movimientos de colas de proyectos que se han iniciado, pero que aún no han finalizado.</span><span class="sxs-lookup"><span data-stu-id="4cf10-156">The **My Job Queue** part on your Role Center shows the job queues entries that you have started, but which are not yet finished.</span></span> <span data-ttu-id="4cf10-157">Por defecto, el apartado no puede verse, por lo que tiene que agregarlo en el área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="4cf10-157">By default, the part is not visible, so you have to add it to your Role Center.</span></span> <span data-ttu-id="4cf10-158">Para obtener más información, consulte [Personalizar el área de trabajo](ui-personalization-user.md).</span><span class="sxs-lookup"><span data-stu-id="4cf10-158">For more information, see [Personalize Your Workspace](ui-personalization-user.md).</span></span>  

<span data-ttu-id="4cf10-159">Este apartado muestra los documentos con su ID en el campo **Id. usuario asignado** que se están procesando o están en cola, incluidos los relacionados con el registro en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="4cf10-159">The part shows which documents with your ID in the **Assigned User ID** field are being processed or are queued, including those related to background posting.</span></span> <span data-ttu-id="4cf10-160">La parte puede indicar en un vistazo si se produjo error en el registro de un documento o si hay errores en un movimiento de cola de proyectos.</span><span class="sxs-lookup"><span data-stu-id="4cf10-160">The part can tell you at a glance whether there has been an error in the posting of a document or if there are errors in a job queue entry.</span></span> <span data-ttu-id="4cf10-161">El apartado también le permite cancelar un registro de documento si no se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="4cf10-161">The part also lets you cancel a document posting if it is not running.</span></span>

### <a name="to-view-an-error-from-the-my-job-queue-part"></a><span data-ttu-id="4cf10-162">Procedimiento para ver un error del apartado Mi la cola de proyectos</span><span class="sxs-lookup"><span data-stu-id="4cf10-162">To view an error from the My Job Queue part</span></span>
1. <span data-ttu-id="4cf10-163">En un movimiento con el estado **Error**, elija la acción **Mostrar error**.</span><span class="sxs-lookup"><span data-stu-id="4cf10-163">On an entry with the status **Error**, choose the **Show Error** action.</span></span>
2. <span data-ttu-id="4cf10-164">Revise el mensaje de error y corrija el problema.</span><span class="sxs-lookup"><span data-stu-id="4cf10-164">Review the error message and fix the problem.</span></span>


## <a name="examples-of-what-can-be-scheduled-using-job-queue"></a><span data-ttu-id="4cf10-165">Ejemplos de lo que se puede programar usando la cola de trabajos</span><span class="sxs-lookup"><span data-stu-id="4cf10-165">Examples of what can be scheduled using job queue</span></span>

### <a name="schedule-reports"></a><span data-ttu-id="4cf10-166">Programar informes</span><span class="sxs-lookup"><span data-stu-id="4cf10-166">Schedule reports</span></span>

<span data-ttu-id="4cf10-167">Puede programar un informe o un trabajo por lotes para ejecutarlo en una fecha y hora específicos.</span><span class="sxs-lookup"><span data-stu-id="4cf10-167">You can schedule a report or batch job to run at a specific date and time.</span></span> <span data-ttu-id="4cf10-168">Los informes y los trabajos por lotes programados se introducen en la cola de proyectos y se procesan en el momento programado, de manera similar a con otros proyectos.</span><span class="sxs-lookup"><span data-stu-id="4cf10-168">Scheduled reports and batch jobs are entered in the job queue and processed at the scheduled time, similar to other jobs.</span></span> <span data-ttu-id="4cf10-169">Elija la opción **Programa** después de elegir la acción **Enviar a** y, a continuación, introduzca información como la impresora, la hora y la fecha, la periodicidad.</span><span class="sxs-lookup"><span data-stu-id="4cf10-169">You choose the **Schedule** option after you choose the **Send to** action, and then you enter information such as printer, time and date, recurrence.</span></span>  

<span data-ttu-id="4cf10-170">Para más información, vea [Programar la ejecución de un informe](ui-work-report.md#ScheduleReport)</span><span class="sxs-lookup"><span data-stu-id="4cf10-170">For more information, see [Scheduling a Report to Run](ui-work-report.md#ScheduleReport)</span></span>

### <a name="schedule-synchronization-between-prod_short-and-prod_short"></a><span data-ttu-id="4cf10-171">Programación de la sincronización entre [!INCLUDE[prod_short](includes/prod_short.md)] y [!INCLUDE[prod_short](includes/cds_long_md.md)]</span><span class="sxs-lookup"><span data-stu-id="4cf10-171">Schedule synchronization between [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[prod_short](includes/cds_long_md.md)]</span></span>

<span data-ttu-id="4cf10-172">Si ha integrado [!INCLUDE[prod_short](includes/prod_short.md)] con [!INCLUDE[prod_short](includes/cds_long_md.md)], puede utilizar la cola de proyectos para programar cuándo desea sincronizar los datos de los registros que ha emparejado en las dos aplicaciones empresariales.</span><span class="sxs-lookup"><span data-stu-id="4cf10-172">If you have integrated [!INCLUDE[prod_short](includes/prod_short.md)] with [!INCLUDE[prod_short](includes/cds_long_md.md)], you can use the job queue to schedule when you want to synchronize data for the records that you have coupled in the two business apps.</span></span> <span data-ttu-id="4cf10-173">Dependiendo de la dirección y las reglas que haya definido para la integración, los trabajos de sincronización también pueden crear nuevos registros en la aplicación de destino para que coincidan con los del origen.</span><span class="sxs-lookup"><span data-stu-id="4cf10-173">Depending on the direction and rules that you have defined for the integration, the synchronization jobs can also create new records in the destination app to match those in the source.</span></span> <span data-ttu-id="4cf10-174">Por ejemplo, si un vendedor crea un nuevo contacto en [!INCLUDE[crm_md](includes/crm_md.md)], el proyecto de sincronización puede crear ese contacto para el vendedor emparejado en [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="4cf10-174">For example, if a salesperson creates a new contact in [!INCLUDE[crm_md](includes/crm_md.md)], the synchronization job can create that contact for the coupled salesperson in [!INCLUDE[prod_short](includes/prod_short.md)].</span></span> <span data-ttu-id="4cf10-175">Para obtener más información, consulte [Programación de una sincronización entre Business Central y Dynamics 365 Sales](admin-scheduled-synchronization-using-the-synchronization-job-queue-entries.md).</span><span class="sxs-lookup"><span data-stu-id="4cf10-175">For more information, see [Scheduling a Synchronization between Business Central and Dynamics 365 Sales](admin-scheduled-synchronization-using-the-synchronization-job-queue-entries.md).</span></span>

### <a name="schedule-the-posting-of-sales-and-purchase-orders"></a><span data-ttu-id="4cf10-176">Programar la contabilización de pedidos de compra y venta</span><span class="sxs-lookup"><span data-stu-id="4cf10-176">Schedule the posting of sales and purchase orders</span></span>

<span data-ttu-id="4cf10-177">Las colas de proyecto son una herramienta eficaz para programar la ejecución de procesos de negocios en segundo plano, como cuando varios usuarios intentan publicar pedidos de ventas, pero solo se puede procesar un pedido a la vez.</span><span class="sxs-lookup"><span data-stu-id="4cf10-177">Job queues are an effective tool to schedule the running of business processes in the background, such as when multiple users are trying to post sales orders, but only one order can be processed at a time.</span></span>  

<span data-ttu-id="4cf10-178">Para obtener más información, consulte [Para configurar el registro de fondo con colas de proyecto](ui-batch-posting.md#to-set-up-background-posting-with-job-queues).</span><span class="sxs-lookup"><span data-stu-id="4cf10-178">For more information, see [To set up background posting with job queues](ui-batch-posting.md#to-set-up-background-posting-with-job-queues)</span></span>

## <a name="see-also"></a><span data-ttu-id="4cf10-179">Consulte también</span><span class="sxs-lookup"><span data-stu-id="4cf10-179">See Also</span></span>

[<span data-ttu-id="4cf10-180">Administración</span><span class="sxs-lookup"><span data-stu-id="4cf10-180">Administration</span></span>](admin-setup-and-administration.md)  
[<span data-ttu-id="4cf10-181">Configuración de Business Central</span><span class="sxs-lookup"><span data-stu-id="4cf10-181">Setting Up Business Central</span></span>](setup.md)  
[<span data-ttu-id="4cf10-182">Cambiar la configuración básica</span><span class="sxs-lookup"><span data-stu-id="4cf10-182">Change Basic Settings</span></span>](ui-change-basic-settings.md)  
[<span data-ttu-id="4cf10-183">Análisis de la telemetría de seguimiento del ciclo de vida de la cola de trabajos</span><span class="sxs-lookup"><span data-stu-id="4cf10-183">Analyzing Job Queue Lifecycle Trace Telemetry</span></span>](/dynamics365smb-devitpro\dev-itpro\administration\telemetry-job-queue-lifecycle-trace)  
