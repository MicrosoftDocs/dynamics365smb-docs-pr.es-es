---
title: Administre el almacenamiento eliminando documentos o comprimiendo datos
description: Descubra cómo puede mantener sus datos históricos comprimiendo las entradas del libro mayor, o elimínelas.
author: edupont04
ms.service: dynamics365-business-central
ms.topic: conceptual
ms.date: 04/01/2021
ms.author: edupont
ms.openlocfilehash: c41e4d871740efde811a6bfc6190605aa4e3f573
ms.sourcegitcommit: 766e2840fd16efb901d211d7fa64d96766ac99d9
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 03/31/2021
ms.locfileid: "5781216"
---
# <a name="manage-storage-by-deleting-documents-or-compressing-data"></a><span data-ttu-id="d8928-103">Administrar el almacenamiento eliminando documentos o comprimiendo datos</span><span class="sxs-lookup"><span data-stu-id="d8928-103">Manage Storage by Deleting Documents or Compressing Data</span></span>

<span data-ttu-id="d8928-104">Un rol central, como el administrador de aplicaciones, debe eliminar o comprimir periódicamente los documentos históricos para gestionar su acumulación.</span><span class="sxs-lookup"><span data-stu-id="d8928-104">A central role, such as the application administrator, must regularly deal with accumulating historic documents by deleting or compressing them.</span></span>  

> [!TIP]
> <span data-ttu-id="d8928-105">Para obtener información sobre otras formas de reducir la cantidad de datos almacenados en una base de datos, consulte [Reducción de datos almacenados en bases de datos de Business Central](/dynamics365/business-central/dev-itpro/administration/database-reduce-data) en la ayuda para desarrolladores y profesionales de TI.</span><span class="sxs-lookup"><span data-stu-id="d8928-105">For information about other ways to reduce the amount of data stored in a database, see [Reducing Data Stored in Business Central Databases](/dynamics365/business-central/dev-itpro/administration/database-reduce-data) in the Developer and IT pro help.</span></span>

## <a name="delete-documents"></a><span data-ttu-id="d8928-106">Eliminar documentos</span><span class="sxs-lookup"><span data-stu-id="d8928-106">Delete Documents</span></span>

<span data-ttu-id="d8928-107">En algunos casos, es posible que necesite eliminar pedidos de compra facturados que no se hayan eliminado.</span><span class="sxs-lookup"><span data-stu-id="d8928-107">In certain situations, you may need to delete invoiced purchase orders that have not been deleted.</span></span> [!INCLUDE[prod_short](includes/prod_short.md)] <span data-ttu-id="d8928-108">comprueba que se hayan facturado totalmente los pedidos de compra eliminados.</span><span class="sxs-lookup"><span data-stu-id="d8928-108">checks that you have fully invoiced the deleted purchase orders.</span></span> <span data-ttu-id="d8928-109">No puede eliminar pedidos que no haya facturado y recibido en su totalidad.</span><span class="sxs-lookup"><span data-stu-id="d8928-109">You cannot delete orders that you have not fully invoiced and received.</span></span>  

<span data-ttu-id="d8928-110">Los pedidos de devolución generalmente se eliminan después de facturados.</span><span class="sxs-lookup"><span data-stu-id="d8928-110">Return orders are usually deleted after they are invoiced.</span></span> <span data-ttu-id="d8928-111">Cuando registra una factura, ésta se transfiere a la página **Histórico abono compra**.</span><span class="sxs-lookup"><span data-stu-id="d8928-111">When you post an invoice, it is transferred to the **Posted Purchase Credit Memo** page.</span></span> <span data-ttu-id="d8928-112">Si ha activado la casilla **Envío dev. en abono** en la página **Conf. compras y pagos**, la factura se transfiere a la página **Histórico envío devolución**.</span><span class="sxs-lookup"><span data-stu-id="d8928-112">If you selected the **Return Shipment on Credit Memo** check box on the **Purchases & Payable Setup** page, then the invoice is transferred to the **Posted Return Shipment** page.</span></span> <span data-ttu-id="d8928-113">Puede eliminar los documentos a partir de un trabajo por lotes **Borrar ped. dev. compras fact.**.</span><span class="sxs-lookup"><span data-stu-id="d8928-113">You can delete the documents using the **Delete Invd Purch. Ret. Orders** batch job.</span></span> <span data-ttu-id="d8928-114">Antes de eliminar, el trabajo por lotes comprueba si los pedidos devueltos de compra han sido enviados y facturados totalmente.</span><span class="sxs-lookup"><span data-stu-id="d8928-114">Before deleting, the batch job checks if the purchase return orders are fully shipped and invoiced.</span></span>  

<span data-ttu-id="d8928-115">Los pedidos abiertos de compra no se eliminan una vez que se han procesado y facturado todos los pedidos de compra relacionados.</span><span class="sxs-lookup"><span data-stu-id="d8928-115">Blanket purchase orders are not deleted after you have processed and invoiced all the related purchase orders.</span></span> <span data-ttu-id="d8928-116">Para eliminar pedidos abiertos de compra, puede utilizar el trabajo por lotes **Eliminar pedidos abiertos compra facturados**.</span><span class="sxs-lookup"><span data-stu-id="d8928-116">You can delete blanket orders with the **Delete Invoiced Blanket Purchase Orders** batch job.</span></span>  

<span data-ttu-id="d8928-117">Los pedidos de servicios facturados se suelen eliminar automáticamente después de haberse facturado en su totalidad.</span><span class="sxs-lookup"><span data-stu-id="d8928-117">Invoiced service orders are usually deleted automatically after having been fully invoiced.</span></span> <span data-ttu-id="d8928-118">Cuando se registra una factura, se crea un movimiento correspondiente en la página **Facts. ventas (servicio) regis.**</span><span class="sxs-lookup"><span data-stu-id="d8928-118">When an invoice is posted, a corresponding entry is created on the **Posted Service Invoices** page.</span></span> <span data-ttu-id="d8928-119">El documento registrado se puede ver en la página **Fact. ventas (servicio) regis.**</span><span class="sxs-lookup"><span data-stu-id="d8928-119">The posted document can be viewed on the **Posted Service Invoice** page.</span></span>  

<span data-ttu-id="d8928-120">Sin embargo, los pedidos de servicio no se eliminarán de forma automática si la cantidad total de dicho pedido no se ha registrado desde el pedido de servicio en sí, sino desde la página **Factura servicio**.</span><span class="sxs-lookup"><span data-stu-id="d8928-120">Service orders are not deleted automatically, however, if the total quantity on the order has been posted not from the service order itself, but from the **Service Invoice** page.</span></span> <span data-ttu-id="d8928-121">En este caso, puede que tenga que eliminar los pedidos facturados que no se hayan eliminado.</span><span class="sxs-lookup"><span data-stu-id="d8928-121">Then you may need to delete invoiced orders that were not deleted.</span></span> <span data-ttu-id="d8928-122">Para ello, ejecute el proceso **Eliminar ped. servicio facturados**.</span><span class="sxs-lookup"><span data-stu-id="d8928-122">You can do this by running the **Delete Invoiced Service Orders** batch job.</span></span>  

## <a name="compress-data-with-date-compression"></a><span data-ttu-id="d8928-123">Comprimir datos con compresión de datos</span><span class="sxs-lookup"><span data-stu-id="d8928-123">Compress Data with Date Compression</span></span>

<span data-ttu-id="d8928-124">Puede comprimir datos en [!INCLUDE [prod_short](includes/prod_short.md)] para ahorrar espacio en la base de datos, lo que en [!INCLUDE [prod_short](includes/prod_short.md)] en línea también puede ahorrarle dinero.</span><span class="sxs-lookup"><span data-stu-id="d8928-124">You can compress data in [!INCLUDE [prod_short](includes/prod_short.md)] so that you save space in the database, which in [!INCLUDE [prod_short](includes/prod_short.md)] online can even save you money.</span></span> <span data-ttu-id="d8928-125">La compresión se basa en fechas y trabajos, fusionando diversos movimientos antiguos en uno solo.</span><span class="sxs-lookup"><span data-stu-id="d8928-125">The compression is based on dates and works by combining several old entries into one new entry.</span></span> <span data-ttu-id="d8928-126">Solo podrá comprimir los movimientos de los ejercicios que ya estén cerrados y solo movimientos de proveedores en los que el campo **Abrir** esté establecido en *No*.</span><span class="sxs-lookup"><span data-stu-id="d8928-126">You can compress entries from closed fiscal years only, and only vendor ledger entries where the **Open** field is set to *No*.</span></span>  

<span data-ttu-id="d8928-127">Por ejemplo, los movimientos de proveedores de ejercicios anteriores se pueden comprimir, de forma que sólo haya una entrada al haber y otra al debe cada mes.</span><span class="sxs-lookup"><span data-stu-id="d8928-127">For example, vendor ledger entries from previous fiscal years can be compressed so that there is only one credit and one debit entry per account per month.</span></span> <span data-ttu-id="d8928-128">El importe del nuevo movimiento es la suma de todos los movimientos comprimidos.</span><span class="sxs-lookup"><span data-stu-id="d8928-128">The amount in the new entry is the sum of all the compressed entries.</span></span> <span data-ttu-id="d8928-129">La fecha asignada es la inicial del periodo que se ha comprimido, como el primer día del mes (si los movimientos están comprimidos por meses).</span><span class="sxs-lookup"><span data-stu-id="d8928-129">The date assigned is the starting date for the period that is compressed, such as the first day of the month (if the entries are compressed by month).</span></span> <span data-ttu-id="d8928-130">Después de la compresión, aún podrá ver el saldo del periodo de cada cuenta del ejercicio anterior.</span><span class="sxs-lookup"><span data-stu-id="d8928-130">After the compression, you can still see the net change for each account in the previous fiscal year.</span></span>

<span data-ttu-id="d8928-131">El número de movimientos resultante de una compresión de datos dependerá del número de filtros aplicados, de los campos que se combinen y de la longitud del periodo seleccionado.</span><span class="sxs-lookup"><span data-stu-id="d8928-131">The number of entries that result from a date compression depends on how many filters you set, which fields are combined, and which period length you choose.</span></span> <span data-ttu-id="d8928-132">Siempre habrá, al menos, un movimiento.</span><span class="sxs-lookup"><span data-stu-id="d8928-132">There will always be at least one entry.</span></span> <span data-ttu-id="d8928-133">Cuando termine el trabajo por lotes, podrá ver el resultado en la página **Registros de compresión por fechas**.</span><span class="sxs-lookup"><span data-stu-id="d8928-133">When the batch job is finished, you can see the result in the **Date Compr. Registers** page.</span></span>

<span data-ttu-id="d8928-134">Puede comprimir los siguientes tipos de datos en [!INCLUDE [prod_short](includes/prod_short.md)] usando trabajos por lotes:</span><span class="sxs-lookup"><span data-stu-id="d8928-134">You can compress the following types of data in [!INCLUDE [prod_short](includes/prod_short.md)] using batch jobs:</span></span>

* <span data-ttu-id="d8928-135">Movimientos del mayor de bancos</span><span class="sxs-lookup"><span data-stu-id="d8928-135">Bank account ledger entries</span></span>

  <span data-ttu-id="d8928-136">Después de la compresión, con la utilidad **Guardar contenido campo**, podrá conservar el contenido de los campos **N.º documento, Nuestro contacto**, **Código de dimensión global 1** y **Código de dimensión global 2**.</span><span class="sxs-lookup"><span data-stu-id="d8928-136">After the compression, with the **Retain Field Contents** facility, you can retain the contents of the **Document No., Our Contact**, **Global Dimension 1 Code**, and **Global Dimension 2 Code** fields.</span></span>
* <span data-ttu-id="d8928-137">Movimientos de proveedores</span><span class="sxs-lookup"><span data-stu-id="d8928-137">Vendor ledger entries</span></span>

> [!NOTE]
> <span data-ttu-id="d8928-138">Las entradas comprimidas para clientes, proveedores, bancos y libros auxiliares FA se contabilizan de forma ligeramente diferente a la contabilización estándar.</span><span class="sxs-lookup"><span data-stu-id="d8928-138">Compressed entries for customers, vendors, bank, and FA subledgers are posted slightly differently than standard posting.</span></span> <span data-ttu-id="d8928-139">Esto es para reducir el número de nuevos movimientos de contabilidad creados por la compresión de fechas, y es especialmente importante cuando mantiene información como dimensiones y números de documentos.</span><span class="sxs-lookup"><span data-stu-id="d8928-139">This is to reduce the number of new general ledger entries created by date compression, and is especially important when you keep information such as dimensions and document numbers.</span></span> <span data-ttu-id="d8928-140">La compresión de fechas crea nuevas entradas de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="d8928-140">Date compression creates new entries as follows:</span></span>
>* <span data-ttu-id="d8928-141">En la página **Movimientos de contabilidad**, se crean nuevas entradas con nuevos números de entrada para las entradas comprimidas.</span><span class="sxs-lookup"><span data-stu-id="d8928-141">On the **General Ledger Entries** page, new entries are created with new entry numbers for the compressed entries.</span></span> <span data-ttu-id="d8928-142">El campo **Descripción** contiene **Comprimido por fechas** para que las entradas comprimidas sean fáciles de identificar.</span><span class="sxs-lookup"><span data-stu-id="d8928-142">The **Description** field contains **Date Compressed** so that the compressed entries are easy to identify.</span></span> 
>* <span data-ttu-id="d8928-143">En las páginas del libro mayor, como la página **Movimientos de contabilidad**, se crean uno o más movimientos con nuevos números de movimientos.</span><span class="sxs-lookup"><span data-stu-id="d8928-143">On ledger pages, such as the **Customer Ledger Entries** page, one or more entries are created with new entry numbers.</span></span> 
> <span data-ttu-id="d8928-144">El proceso de contabilización crea espacios en la serie de números para las entradas de la página **Movimientos de contabilidad**.</span><span class="sxs-lookup"><span data-stu-id="d8928-144">The posting process creates gaps in the number series for entries on the **General Ledger Entries** page.</span></span> <span data-ttu-id="d8928-145">Esos números se asignan solo a las entradas en las páginas del libro mayor.</span><span class="sxs-lookup"><span data-stu-id="d8928-145">Those numbers are assigned to the entries on the ledger pages only.</span></span> <span data-ttu-id="d8928-146">El rango de números que se asignó a los movimientos está disponible en la **Página de registro de P/G**, en los campos **Desde el número de movimiento** y **Hasta el número de movimiento**.</span><span class="sxs-lookup"><span data-stu-id="d8928-146">The number range that was assigned to the entries is available on the **G/L Register page**  in the **From Entry No.** and **To Entry No.** fields.</span></span> 

<span data-ttu-id="d8928-147">Después de la compresión, siempre se retiene el contenido de los siguientes campos: **Fecha de registro**, **N.º proveedor**, **Tipo de documento**, **Código de divisa**, **Grupo contable**, **Importe**, **Importe pendiente**, **Importe inicial (DL)**, **Importe pendiente (DL)**, **Importe (DL)**, **Beneficio (DL)**, **Dto. factura (DL)**, **Dto. P.P (DL)** y **Posible descuento P.P.**.</span><span class="sxs-lookup"><span data-stu-id="d8928-147">After the compression, the contents of the following fields are always retained: **Posting Date**, **Vendor No.**, **Document Type**, **Currency Code**, **Posting Group**, **Amount**, **Remaining Amount**, **Original Amt. (LCY)**, **Remaining Amt. (LCY)**, **Amount (LCY)**, **Purchase (LCY)**, **Inv. Discount (LCY)**, **Pmt. Disc. Given (LCY)**, and **Pmt. Disc. Possible**.</span></span>

  <span data-ttu-id="d8928-148">Mediante la utilidad **Guardar contenido campo** también podrá conservar el contenido de los siguientes campos adicionales: **N.º documento**, **Comprar a N.º proveedor**, **Código de comprador**, **Código de dimensión global 1** y **Código de dimensión global 2**.</span><span class="sxs-lookup"><span data-stu-id="d8928-148">With the **Retain Field Contents** facility, you can also retain the contents of these additional fields: **Document No.**, **Buy-from Vendor No.**, **Purchaser Code**, **Global Dimension 1 Code**, and **Global Dimension 2 Code**.</span></span>

> [!NOTE]
> <span data-ttu-id="d8928-149">Después de ejecutar la compresión de fechas, todas las cuentas del libro mayor se bloquean.</span><span class="sxs-lookup"><span data-stu-id="d8928-149">After you run date compression, all accounts in the ledger are locked.</span></span> <span data-ttu-id="d8928-150">Por ejemplo, no puede anular la aplicación de los asientos del libro mayor de proveedores o bancos para ninguna cuenta durante el período para el que se comprimen las fechas.</span><span class="sxs-lookup"><span data-stu-id="d8928-150">For example, you cannot un-apply vendor or bank ledger entries for any accounts during the period for which dates are compressed.</span></span>

<!--* General ledger entries
* Customer ledger entries-->
<!--* Fixed asset ledger entries
* G/L budget entries
* VAT entries

  After the compression the contents of the following fields are always retained: **Posting Date**, **Type**, **Closed**, **Gen. Bus. Posting Group**, **Gen. Prod. Posting Group**, **VAT Calculation Type**, **Base**, and **Amount**.

  With the **Retain Field Contents** facility, you can also retain the contents of the following additional fields: **Document No.**, **Bill-to/Pay-to No.**, **EU 3-Party Trade**, **Country/Region Code**, and **Internal Ref. No.**.
* Insurance ledger entries
* Maintenance ledger entries
* Resource ledger entries

  After the compression, the contents of the following fields are retained: **Posting Date**, **Resource No.**, **Resource Group No.**, **Entry Type**, **Quantity**, **Total Cost**, **Total Price**, and **Chargeable**.

  With the **Retain Field Contents** facility, you can also retain the contents of the following additional fields: **Document No.**, **Work Type Code**, **Job No.**, **Unit of Measure Code**, **Source Type**, **Source No.**. **Chargeable**, **
* Warehouse entries

  After the compression the contents of the following fields are always retained: **Registering Date**, **Location Code**, **Zone Code**, **Bin Code**, **Item No.**, **Quantity**, **Qty. (Base)**, **Bin Type Code**, **Entry Type**, **Variant Code**, **Qty. per Unit of Measure**, **Unit of Measure Code**, **Warranty Date**, **Expiration Date**, **Cubage**, and **Weight**.

  With the **Retain Field Contents** facility, you can also retain the contents of the **Serial No.** and **Lot No.** fields. -->

<span data-ttu-id="d8928-151">El número de movimientos resultante de una tarea de compresión por fechas dependerá del número de filtros aplicados, de los campos que se combinen y de la longitud del periodo seleccionada.</span><span class="sxs-lookup"><span data-stu-id="d8928-151">The number of entries that result from a Date Compress batch job depends on how many filters you set, which fields are combined, and which period length you choose.</span></span> <span data-ttu-id="d8928-152">Siempre habrá, al menos, un movimiento.</span><span class="sxs-lookup"><span data-stu-id="d8928-152">There will always be at least one entry.</span></span> 

> [!WARNING]
> <span data-ttu-id="d8928-153">La compresión por fechas borra movimientos, por tanto es recomendable que haga siempre una copia de seguridad de la base de datos antes de ejecutar el proceso.</span><span class="sxs-lookup"><span data-stu-id="d8928-153">Date Compression deletes entries, so you should always make a backup copy of the database before you run the batch job.</span></span>

<span data-ttu-id="d8928-154">La siguiente tabla enumera los campos de la Ficha desplegable **Opciones** que están disponibles en todos los trabajos por lotes.</span><span class="sxs-lookup"><span data-stu-id="d8928-154">The following table lists the fields on the **Options** FastTab that are available on all batch jobs.</span></span> <span data-ttu-id="d8928-155">La sección **Guardar contenido campo** incluye campos adicionales que se describen arriba.</span><span class="sxs-lookup"><span data-stu-id="d8928-155">The **Retain Field Contents** section includes additional fields are described above.</span></span>

|<span data-ttu-id="d8928-156">Campo</span><span class="sxs-lookup"><span data-stu-id="d8928-156">Field</span></span>  |<span data-ttu-id="d8928-157">Descripción</span><span class="sxs-lookup"><span data-stu-id="d8928-157">Description</span></span>  |
|-------|-------------|
|<span data-ttu-id="d8928-158">Fecha inicial</span><span class="sxs-lookup"><span data-stu-id="d8928-158">Starting Date</span></span>     |<span data-ttu-id="d8928-159">Introduzca la primera fecha que se incluirá en la compresión por fechas.</span><span class="sxs-lookup"><span data-stu-id="d8928-159">Enter the first date to be included in the date compression.</span></span> <span data-ttu-id="d8928-160">La compresión afectará a todos los movimientos de IVA hasta la Fecha final.</span><span class="sxs-lookup"><span data-stu-id="d8928-160">The compression will affect all entries from this date to the Ending Date.</span></span>|
|<span data-ttu-id="d8928-161">Fecha final</span><span class="sxs-lookup"><span data-stu-id="d8928-161">Ending Date</span></span>     |<span data-ttu-id="d8928-162">Introduzca la última fecha que se incluirá en la compresión por fechas.</span><span class="sxs-lookup"><span data-stu-id="d8928-162">Enter the last date to be included in the date compression.</span></span> <span data-ttu-id="d8928-163">La compresión afectará a todos los movimientos desde la Fecha inicial hasta esta fecha.</span><span class="sxs-lookup"><span data-stu-id="d8928-163">The compression will affect all entries from the Starting Date to this date.</span></span>|
|<span data-ttu-id="d8928-164">Longitud del periodo</span><span class="sxs-lookup"><span data-stu-id="d8928-164">Period Length</span></span> |<span data-ttu-id="d8928-165">Seleccione la longitud del periodo cuyos movimientos se combinarán.</span><span class="sxs-lookup"><span data-stu-id="d8928-165">Select the length of the period whose entries will be combined.</span></span> <span data-ttu-id="d8928-166">Seleccione el campo para ver las opciones.</span><span class="sxs-lookup"><span data-stu-id="d8928-166">Choose the field to see the options.</span></span> <span data-ttu-id="d8928-167">Si seleccionó la longitud del periodo *Trimestre*, *Mes* o *Semana*, sólo se comprimirán los movimientos con un periodo contable común.</span><span class="sxs-lookup"><span data-stu-id="d8928-167">If you selected the period length *Quarter*, *Month*, or *Week*, only entries with a common accounting period are compressed.</span></span>|
|<span data-ttu-id="d8928-168">Guardar contenido campo</span><span class="sxs-lookup"><span data-stu-id="d8928-168">Retain Field Contents</span></span>     |<span data-ttu-id="d8928-169">Si desea conservar el contenido de determinados campos, aunque los movimientos estén comprimidos, marque las casillas.</span><span class="sxs-lookup"><span data-stu-id="d8928-169">Place check marks in the boxes if you want to retain the contents of certain fields even though the entries are compressed.</span></span> <span data-ttu-id="d8928-170">Cuantos más campos seleccione, más detallados serán los movimientos comprimidos.</span><span class="sxs-lookup"><span data-stu-id="d8928-170">The more fields you select, the more detailed the compressed entries will be.</span></span> <span data-ttu-id="d8928-171">Si no selecciona ninguno de estos campos, el trabajo por lotes creará un movimiento por día, semana u otro periodo, según haya elegido en el campo **Longitud periodo**.</span><span class="sxs-lookup"><span data-stu-id="d8928-171">If you do not select any of these fields, the batch job will create one entry per day, week, or another period, according to the period selected in the **Period Length** field.</span></span> |

## <a name="see-also"></a><span data-ttu-id="d8928-172">Consulte también</span><span class="sxs-lookup"><span data-stu-id="d8928-172">See Also</span></span>

[<span data-ttu-id="d8928-173">Administración</span><span class="sxs-lookup"><span data-stu-id="d8928-173">Administration</span></span>](admin-setup-and-administration.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]